"use strict";(self.webpackChunkelementApp=self.webpackChunkelementApp||[]).push([[572],{6572:(Jr,Ce,u)=>{u.r(Ce),u.d(Ce,{CarModule:()=>jr});var p=u(9808),oe=u(520),l=u(2382),_=u(4394),m=u(5620),I=u(6042),N=u(6376),v=u(6443),st=u(4466),at=u(9606),lt=u(4116),ct=u(4825),ut=u(4177),ze=u(8706),pt=u(5202),dt=u(1986),mt=u(4711),_t=Object.prototype.hasOwnProperty;var vt=u(1754);var O=u(9300),k=u(3900),w=u(4004),ve=u(8505),P=(()=>{return(n=P||(P={}))[n.CAR_MODEL=1]="CAR_MODEL",n[n.CAR_USAGE=2]="CAR_USAGE",n[n.CAR_PRICE=3]="CAR_PRICE",n[n.CAR_COMPARE_INSURANCES=4]="CAR_COMPARE_INSURANCES",n[n.CUSTOMER_INFO=5]="CUSTOMER_INFO",n[n.CAR_INFO=6]="CAR_INFO",n[n.UPDATE_CAR_DOC=7]="UPDATE_CAR_DOC",n[n.CAR_VISIT=8]="CAR_VISIT",n[n.CAR_PAYMENT_FACTOR=9]="CAR_PAYMENT_FACTOR",n[n.CAR_PENDING=10]="CAR_PENDING",n[n.CAR_ISSUED=11]="CAR_ISSUED",P;var n})();const ye=(0,m.PH)("[Car Insurance] Load Vehicles Data"),xe=(0,m.PH)("[Car Insurance] Load Lookups Data"),be=(0,m.PH)("[Car Insurance] Load Vehicles Data Success",(0,m.Ky)()),Te=(0,m.PH)("[Car Insurance] Load Lookups Data Success",(0,m.Ky)()),Ne=(0,m.PH)("[Car Insurance] Update Customer Vehicle Data",(0,m.Ky)()),Fe=(0,m.PH)("[Car Insurance] Update Customer Info Data",(0,m.Ky)()),re=(0,m.PH)("[Car Insurance] Go To Next Flow"),Ie=(0,m.PH)("[Car Insurance] Go To Previous Flow"),Se=(0,m.PH)("[Car Insurance] Reset Flow"),Oe=(0,m.PH)("[Car Insurance] Set Flow Step",(0,m.Ky)()),we=(0,m.PH)("[Car Insurance] Inquiry Insurance Prices"),Pe=(0,m.PH)("[Car Insurance] Inquiry Insurance Prices Success",(0,m.Ky)()),Ae=(0,m.PH)("[Car Insurance] Select Insurance From Insurance Options",(0,m.Ky)()),bt=(0,m.PH)("[Car Insurance] Select Insurance Success"),Me=(0,m.PH)("[Car Insurance] Issue Insurance"),Tt=(0,m.PH)("[Car Insurance] Issue Insurance Success");var t=u(5e3),De=u(2340);let q=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${De.N.apiUrl}/policies/vehicle-hull`}getVehiclesKind(){return this.http.get(`${this.apiUrl}/vehicle-kinds`)}priceInquiry(e){return this.http.post(`${this.apiUrl}/price-inquiry/`,e)}getLookups(){return this.http.get(`${this.apiUrl}/lookups`)}addCustomer(e){return this.http.post(`${this.apiUrl}/customer/add/`,e)}addForUser(){return this.http.post(`${this.apiUrl}/customer/addforuser/`,{})}addVehicle(e){return this.http.post(`${this.apiUrl}/vehicle/add/`,e)}updateVehicle(e,i){return this.http.put(`${this.apiUrl}/vehicle/${e}/edit/`,i)}insuranceIssue(e,i,r){return this.http.post(`${this.apiUrl}/issue/`,{customerId:e,vehicleId:i,inquiryId:r})}addCoverages(e,i){return this.http.put(`${this.apiUrl}/price-inquiry/add-coverages/`,{inquiryId:e,coverages:i})}getMyPolicies(){return this.http.get(`${this.apiUrl}/my-policies/`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(oe.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Nt=u(402);const ke=(0,m.Tz)({name:"carInsurance",reducer:(0,m.Lq)({flowStep:P.CAR_ISSUED,vehicleKinds:[],lookups:{},customerVehicle:{brand:"",model:"",builtYear:0,usage:"",inquiryId:"",basicDiscountYears:0,additionalDiscountYears:0,vehicleValue:0,additionalCovs:{glassBreak:!1,insteal:!1,naturalDisaster:!1,priceFluctuation:!1,splashPaint:!1,transportation:!1},id:"",customer:"",motor_no:"",chasis_no:"",vin:""},customerInfo:{birth_date:"",first_name:"",id:"",last_name:"",national_id:""},insuranceOptions:[]},(0,m.on)(be,(n,{vehicles:o})=>Object.assign(Object.assign({},n),{vehicleKinds:o})),(0,m.on)(Te,(n,{lookups:o})=>Object.assign(Object.assign({},n),{lookups:o})),(0,m.on)(Ne,(n,{vehicle:o})=>Object.assign(Object.assign({},n),{customerVehicle:Object.assign(Object.assign({},n.customerVehicle),o)})),(0,m.on)(Fe,(n,{customer:o})=>Object.assign(Object.assign({},n),{customerInfo:Object.assign(Object.assign({},n.customerInfo),o)})),(0,m.on)(re,n=>Object.assign(Object.assign({},n),{flowStep:n.flowStep+1})),(0,m.on)(Ie,n=>Object.assign(Object.assign({},n),{flowStep:n.flowStep-1})),(0,m.on)(Se,n=>Object.assign(Object.assign({},n),{flowStep:1})),(0,m.on)(Oe,(n,{step:o})=>Object.assign(Object.assign({},n),{flowStep:o})),(0,m.on)(Pe,(n,{insuranceOptions:o})=>Object.assign(Object.assign({},n),{insuranceOptions:o})))}),{selectFlowStep:It,selectVehicleKinds:j,selectCustomerVehicle:J,selectCustomerInfo:St,selectLookups:Ue,selectInsuranceOptions:Ot}=ke,wt=(0,m.P1)(j,n=>{const o=[];for(let e=0;e<n.length;e++){const i=n[e].category;i&&!o.includes(i)&&o.push(i)}return o}),Pt=(0,m.P1)(J,j,({brand:n},o)=>o.filter(e=>e.category===n).map(e=>e.caption)),At=(0,m.P1)(J,j,({additionalDiscountYears:n,basicDiscountYears:o,builtYear:e,vehicleValue:i,model:r},s)=>{var a;const c=null===(a=s.find(d=>d.caption===r))||void 0===a?void 0:a.fanavaran_id;return c?{additionalDiscountYears:n,basicDiscountYears:o,builtYear:e,vehicleValue:i,vehicleKindId:c}:null}),Ee=(0,m.P1)(J,({additionalCovs:n})=>Object.entries((0,Nt.W)(n)).filter(e=>e[1]).map(e=>e[0])),Mt=(0,m.P1)(Ee,Ot,Ue,(n,o,{insurance_companies:e})=>{let i=[];for(const r of o){let s=r.base_price;const a=null==e?void 0:e.find(c=>c.company_id===r.insurance_company_id);for(const c of n)s+=r[c];i.push({company:a,price:s,id:r.inquiry_id})}return i});let x=(()=>{class n{constructor(e){this.store=e,this.flowStep$=this.store.select(It),this.customerVehicle$=this.store.select(J),this.customerInfo$=this.store.select(St),this.vehicleKinds$=this.store.select(j),this.lookups$=this.store.select(Ue),this.vehicleBrands$=this.store.select(wt),this.vehicleModels$=this.store.select(Pt),this.compareItems$=this.store.select(Mt),this.selectedCoverages$=this.store.select(Ee),this.inquiryPriceBody$=this.store.select(At)}nextFlow(){this.store.dispatch(re())}prevFlow(){this.store.dispatch(Ie())}resetFlow(){this.store.dispatch(Se())}setFlow(e){this.store.dispatch(Oe({step:e}))}loadVehicles(){this.store.dispatch(ye())}loadLookups(){this.store.dispatch(xe())}selectInsurance(e){this.store.dispatch(Ae({inquiryId:e}))}updateCustomerVehicle(e){this.store.dispatch(Ne({vehicle:e}))}updateCustomerInfo(e){this.store.dispatch(Fe({customer:e}))}inquiryPrice(){this.store.dispatch(we())}issueInsurance(){this.store.dispatch(Me())}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var $=u(1545);let Dt=(()=>{class n{constructor(e,i,r,s){this.actions$=e,this.carInsuranceService=i,this.carFacade=r,this.router=s,this.loadVehicles=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(ye),(0,_.IC)(()=>this.carFacade.vehicleKinds$),(0,O.h)(([,a])=>!(a.length>0)),(0,k.w)(()=>this.carInsuranceService.getVehiclesKind().pipe((0,w.U)(a=>be({vehicles:a.data})))))),this.loadLookups=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(xe),(0,_.IC)(()=>this.carFacade.lookups$),(0,O.h)(([,a])=>function Ct(n){if(null==n)return!0;if((0,ze.Z)(n)&&((0,ut.Z)(n)||"string"==typeof n||"function"==typeof n.splice||(0,pt.Z)(n)||(0,mt.Z)(n)||(0,ct.Z)(n)))return!n.length;var o=(0,lt.Z)(n);if("[object Map]"==o||"[object Set]"==o)return!n.size;if((0,dt.Z)(n))return!(0,at.Z)(n).length;for(var e in n)if(_t.call(n,e))return!1;return!0}(a)),(0,k.w)(()=>this.carInsuranceService.getLookups().pipe((0,w.U)(a=>Te({lookups:a.data})))))),this.handleFlows=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(re),(0,_.IC)(()=>[this.carFacade.flowStep$,this.carFacade.customerVehicle$]),(0,ve.b)(([,a,c])=>{switch(a){case P.CAR_COMPARE_INSURANCES:this.router.navigate(["/quote/car/compare"],{queryParams:{vehicle:JSON.stringify(c)}});break;case P.CUSTOMER_INFO:this.router.navigateByUrl("/quote/car/final-steps")}})),{dispatch:!1}),this.priceInquiry=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(we),(0,_.IC)(()=>this.carFacade.inquiryPriceBody$),(0,O.h)(([,a])=>!function yt(n,o){return(0,vt.Z)(n,o)}(a,this.inquiryPriceBodySave)),(0,k.w)(([,a])=>this.carInsuranceService.priceInquiry(a).pipe((0,w.U)(c=>(this.inquiryPriceBodySave=a,Pe({insuranceOptions:c.data}))))))),this.issueInsurance=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(Me),(0,_.IC)(()=>this.carFacade.customerVehicle$),(0,k.w)(([,{id:a,inquiryId:c,customer:d}])=>this.carInsuranceService.insuranceIssue(d,a,c).pipe((0,w.U)(()=>Tt()))))),this.selectInsurance=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(Ae),(0,_.IC)(()=>this.carFacade.selectedCoverages$),(0,k.w)(([{inquiryId:a},c])=>this.carInsuranceService.addCoverages(a,c).pipe((0,w.U)(()=>(this.carFacade.updateCustomerVehicle({inquiryId:a}),this.carFacade.nextFlow(),bt()))))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eX),t.LFG(q),t.LFG(x),t.LFG($.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var kt=u(3623);const Ut=["*"];let Et=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main"]],ngContentSelectors:Ut,decls:8,vars:0,consts:[["src","assets/images/car-crash.svg",1,"formImage"],[1,"content-container"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"section")(1,"h1"),t._uU(2,"\u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0628\u06cc\u0645\u0647 \u0628\u062f\u0646\u0647"),t.qZA(),t.TgZ(3,"main")(4,"div"),t._UZ(5,"img",0),t.qZA(),t.TgZ(6,"div",1),t.Hsn(7),t.qZA()()())},styles:["section[_ngcontent-%COMP%]{margin:2rem auto;width:58%}h1[_ngcontent-%COMP%]{color:#6b7cff;font-size:1rem;margin-bottom:2rem}main[_ngcontent-%COMP%]{border:1px solid #d8d8d8;padding:2rem;border-radius:1rem;display:grid;grid-template-columns:1fr 2fr;grid-gap:2rem;gap:2rem}main[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.formImage[_ngcontent-%COMP%]{width:100%}"]}),n})();var f=u(226),Y=u(4604),H=u(815);function Zt(n,o){if(1&n&&t._UZ(0,"nz-option",7),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}function Lt(n,o){if(1&n&&t._UZ(0,"nz-option",7),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}let $t=(()=>{class n{constructor(e){this.carFacade=e,this.vehicleForm=new l.cw({brand:new l.NI("",l.kI.required),model:new l.NI("",l.kI.required)}),this.vehicleBrands$=this.carFacade.vehicleBrands$,this.vehicleModels$=this.carFacade.vehicleModels$}ngOnInit(){this.syncFormWithStore()}syncFormWithStore(){this.vehicleForm.valueChanges.subscribe(e=>{this.carFacade.updateCustomerVehicle(e)})}submit(){this.vehicleForm.invalid||this.carFacade.nextFlow()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-model"]],decls:16,vars:8,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"select-container"],["dir","rtl","nzShowSearch","","formControlName","brand"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["dir","rtl","formControlName","model"],["appButton","","type","submit"],["src","left-play",3,"size"],[3,"nzValue","nzLabel"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(1,"div",1)(2,"p"),t._uU(3,"\u0628\u0631\u0646\u062f \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(4,"nz-select",2),t.YNc(5,Zt,1,2,"nz-option",3),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"div",1)(8,"p"),t._uU(9,"\u0645\u062f\u0644 \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(10,"nz-select",4),t.YNc(11,Lt,1,2,"nz-option",3),t.ALo(12,"async"),t.qZA()(),t.TgZ(13,"button",5),t._uU(14," \u0645\u0631\u062d\u0644\u0647 \u0628\u0639\u062f "),t._UZ(15,"app-icon",6),t.qZA()()),2&e&&(t.Q6J("formGroup",i.vehicleForm),t.xp6(5),t.Q6J("ngForOf",t.lcZ(6,4,i.vehicleBrands$)),t.xp6(6),t.Q6J("ngForOf",t.lcZ(12,6,i.vehicleModels$)),t.xp6(4),t.Q6J("size",0))},directives:[l._Y,l.JL,l.sg,v.Vq,f.Lv,l.JJ,l.u,p.sg,v.Ip,Y.H,H.o],pipes:[p.Ov],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:flex-start}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;margin-bottom:auto}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:end;display:flex;align-items:center;gap:.5rem}.form[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),n})();var Rt=Math.ceil,Vt=Math.max;var qt=u(3093),jt=u(6667),se=u(1999);var Ht=/\s/;var Xt=/^\s+/;const en=function Kt(n){return n&&n.slice(0,function Qt(n){for(var o=n.length;o--&&Ht.test(n.charAt(o)););return o}(n)+1).replace(Xt,"")};var tn=u(6460),nn=/^[-+]0x[0-9a-f]+$/i,on=/^0b[01]+$/i,rn=/^0o[0-7]+$/i,sn=parseInt;const ae=function un(n){return n?1/0===(n=function an(n){if("number"==typeof n)return n;if((0,tn.Z)(n))return NaN;if((0,se.Z)(n)){var o="function"==typeof n.valueOf?n.valueOf():n;n=(0,se.Z)(o)?o+"":o}if("string"!=typeof n)return 0===n?n:+n;n=en(n);var e=on.test(n);return e||rn.test(n)?sn(n.slice(2),e?2:8):nn.test(n)?NaN:+n}(n))||-1/0===n?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0},$e=function pn(n){return function(o,e,i){return i&&"number"!=typeof i&&function Jt(n,o,e){if(!(0,se.Z)(e))return!1;var i=typeof o;return!!("number"==i?(0,ze.Z)(e)&&(0,jt.Z)(o,e.length):"string"==i&&o in e)&&(0,qt.Z)(e[o],n)}(o,e,i)&&(e=i=void 0),o=ae(o),void 0===e?(e=o,o=0):e=ae(e),function Bt(n,o,e,i){for(var r=-1,s=Vt(Rt((o-n)/(e||1)),0),a=Array(s);s--;)a[i?s:++r]=n,n+=e;return a}(o,e,i=void 0===i?o<e?1:-1:ae(i),n)}}();function mn(n,o){if(1&n&&t._UZ(0,"nz-option",9),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}let hn=(()=>{class n{constructor(e){this.carFacade=e,this.yearOptions=$e(1350,1402).reverse(),this.vehicleForm=new l.cw({builtYear:new l.NI("",l.kI.required),usage:new l.NI("",l.kI.required)})}ngOnInit(){}submit(){this.vehicleForm.invalid||(this.carFacade.updateCustomerVehicle(this.vehicleForm.value),this.carFacade.nextFlow())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-usage"]],decls:15,vars:3,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"select-container"],["dir","rtl","formControlName","usage"],["nzLabel","\u062a\u0627\u06a9\u0633\u06cc \u062f\u0631\u0648\u0646 \u0634\u0647\u0631\u06cc","nzValue","test"],["nzLabel","\u0634\u062e\u0635\u06cc","nzValue","test 2"],["dir","rtl","formControlName","builtYear"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["appButton","","type","submit"],["src","left-play",3,"size"],[3,"nzValue","nzLabel"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(1,"div",1)(2,"p"),t._uU(3,"\u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(4,"nz-select",2),t._UZ(5,"nz-option",3)(6,"nz-option",4),t.qZA()(),t.TgZ(7,"div",1)(8,"p"),t._uU(9,"\u0633\u0627\u0644 \u0633\u0627\u062e\u062a \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(10,"nz-select",5),t.YNc(11,mn,1,2,"nz-option",6),t.qZA()(),t.TgZ(12,"button",7),t._uU(13," \u0645\u0631\u062d\u0644\u0647 \u0628\u0639\u062f "),t._UZ(14,"app-icon",8),t.qZA()()),2&e&&(t.Q6J("formGroup",i.vehicleForm),t.xp6(11),t.Q6J("ngForOf",i.yearOptions),t.xp6(3),t.Q6J("size",0))},directives:[l._Y,l.JL,l.sg,v.Vq,f.Lv,l.JJ,l.u,v.Ip,p.sg,Y.H,H.o],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:flex-start}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;margin-bottom:auto}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:end;display:flex;align-items:center;gap:.5rem}.form[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),n})();var C=u(655),R=u(1159),y=u(7579),Q=u(4968),g=u(2722),h=u(1721),le=u(5664);const fn=["inputElement"];let Re=(()=>{class n{constructor(e,i,r,s,a){this.ngZone=e,this.elementRef=i,this.cdr=r,this.focusMonitor=s,this.directionality=a,this.destroy$=new y.x,this.isFocused=!1,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new t.vpe,this.nzFocus=new t.vpe,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=c=>c.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzFormatter=c=>c}onModelChange(e){this.parsedValue=this.nzParser(e),this.inputElement.nativeElement.value=`${this.parsedValue}`;const i=this.getCurrentValidValue(this.parsedValue);this.setValue(i)}getCurrentValidValue(e){let i=e;return i=""===i?"":this.isNotCompleteNumber(i)?this.value:`${this.getValidValue(i)}`,this.toNumber(i)}isNotCompleteNumber(e){return isNaN(e)||""===e||null===e||!(!e||e.toString().indexOf(".")!==e.toString().length-1)}getValidValue(e){let i=parseFloat(e);return isNaN(i)?e:(i<this.nzMin&&(i=this.nzMin),i>this.nzMax&&(i=this.nzMax),i)}toNumber(e){if(this.isNotCompleteNumber(e))return e;const i=String(e);if(i.indexOf(".")>=0&&(0,h.DX)(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(e,this.nzPrecision);if("cut"===this.nzPrecisionMode){const r=i.split(".");return r[1]=r[1].slice(0,this.nzPrecision),Number(r.join("."))}return Number(Number(e).toFixed(this.nzPrecision))}return Number(e)}getRatio(e){let i=1;return e.metaKey||e.ctrlKey?i=.1:e.shiftKey&&(i=10),i}down(e,i){this.isFocused||this.focus(),this.step("down",e,i)}up(e,i){this.isFocused||this.focus(),this.step("up",e,i)}getPrecision(e){const i=e.toString();if(i.indexOf("e-")>=0)return parseInt(i.slice(i.indexOf("e-")+2),10);let r=0;return i.indexOf(".")>=0&&(r=i.length-i.indexOf(".")-1),r}getMaxPrecision(e,i){if((0,h.DX)(this.nzPrecision))return this.nzPrecision;const r=this.getPrecision(i),s=this.getPrecision(this.nzStep),a=this.getPrecision(e);return e?Math.max(a,r+s):r+s}getPrecisionFactor(e,i){const r=this.getMaxPrecision(e,i);return Math.pow(10,r)}upStep(e,i){const r=this.getPrecisionFactor(e,i),s=Math.abs(this.getMaxPrecision(e,i));let a;return a="number"==typeof e?((r*e+r*this.nzStep*i)/r).toFixed(s):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(a)}downStep(e,i){const r=this.getPrecisionFactor(e,i),s=Math.abs(this.getMaxPrecision(e,i));let a;return a="number"==typeof e?((r*e-r*this.nzStep*i)/r).toFixed(s):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(a)}step(e,i,r=1){if(this.stop(),i.preventDefault(),this.nzDisabled)return;const s=this.getCurrentValidValue(this.parsedValue)||0;let a=0;"up"===e?a=this.upStep(s,r):"down"===e&&(a=this.downStep(s,r));const c=a>this.nzMax||a<this.nzMin;a>this.nzMax?a=this.nzMax:a<this.nzMin&&(a=this.nzMin),this.setValue(a),this.updateDisplayValue(a),this.isFocused=!0,!c&&(this.autoStepTimer=setTimeout(()=>{this[e](i,r)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(e){if(`${this.value}`!=`${e}`&&this.onChange(e),this.value=e,this.parsedValue=e,this.disabledUp=this.disabledDown=!1,e||0===e){const i=Number(e);i>=this.nzMax&&(this.disabledUp=!0),i<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(e){const i=(0,h.DX)(this.nzFormatter(e))?this.nzFormatter(e):"";this.displayValue=i,this.inputElement.nativeElement.value=`${i}`}writeValue(e){this.value=e,this.setValue(e),this.updateDisplayValue(e),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=e,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,g.R)(this.destroy$)).subscribe(e=>{e?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,this.directionality.change.pipe((0,g.R)(this.destroy$)).subscribe(e=>{this.dir=e}),this.ngZone.runOutsideAngular(()=>{(0,Q.R)(this.inputElement.nativeElement,"keyup").pipe((0,g.R)(this.destroy$)).subscribe(()=>this.stop()),(0,Q.R)(this.inputElement.nativeElement,"keydown").pipe((0,g.R)(this.destroy$)).subscribe(e=>{const{keyCode:i}=e;i!==R.LH&&i!==R.JH&&i!==R.K5||this.ngZone.run(()=>{if(i===R.LH){const r=this.getRatio(e);this.up(e,r),this.stop()}else if(i===R.JH){const r=this.getRatio(e);this.down(e,r),this.stop()}else this.updateDisplayValue(this.value);this.cdr.markForCheck()})})})}ngOnChanges(e){if(e.nzFormatter&&!e.nzFormatter.isFirstChange()){const i=this.getCurrentValidValue(this.parsedValue);this.setValue(i),this.updateDisplayValue(i)}}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(le.tE),t.Y36(f.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-input-number"]],viewQuery:function(e,i){if(1&e&&t.Gf(fn,7),2&e){let r;t.iGM(r=t.CRH())&&(i.inputElement=r.first)}},hostAttrs:[1,"ant-input-number"],hostVars:10,hostBindings:function(e,i){2&e&&t.ekj("ant-input-number-focused",i.isFocused)("ant-input-number-lg","large"===i.nzSize)("ant-input-number-sm","small"===i.nzSize)("ant-input-number-disabled",i.nzDisabled)("ant-input-number-rtl","rtl"===i.dir)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecision:"nzPrecision",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzFormatter:"nzFormatter"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>n),multi:!0}]),t.TTD],decls:8,vars:13,consts:[[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"disabled","placeholder","ngModel","ngModelChange"],["inputElement",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("mousedown",function(s){return i.up(s)})("mouseup",function(){return i.stop()})("mouseleave",function(){return i.stop()}),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"span",3),t.NdJ("mousedown",function(s){return i.down(s)})("mouseup",function(){return i.stop()})("mouseleave",function(){return i.stop()}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5)(6,"input",6,7),t.NdJ("ngModelChange",function(s){return i.onModelChange(s)}),t.qZA()()),2&e&&(t.xp6(1),t.ekj("ant-input-number-handler-up-disabled",i.disabledUp),t.xp6(2),t.ekj("ant-input-number-handler-down-disabled",i.disabledDown),t.xp6(3),t.Q6J("disabled",i.nzDisabled)("placeholder",i.nzPlaceHolder)("ngModel",i.displayValue),t.uIk("id",i.nzId)("autofocus",i.nzAutoFocus?"autofocus":null)("min",i.nzMin)("max",i.nzMax)("step",i.nzStep)("inputmode",i.nzInputMode))},directives:[N.Ls,l.Fj,l.JJ,l.On],encapsulation:2,changeDetection:0}),(0,C.gn)([(0,h.yF)()],n.prototype,"nzDisabled",void 0),(0,C.gn)([(0,h.yF)()],n.prototype,"nzAutoFocus",void 0),n})(),gn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,l.u5,N.PV]]}),n})();function _n(n,o){if(1&n&&t._UZ(0,"nz-option",8),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}let Cn=(()=>{class n{constructor(e){this.carFacade=e,this.discountYears=$e(0,5),this.vehicleForm=new l.cw({vehicleValue:new l.NI("",l.kI.required),basicDiscountYears:new l.NI("",l.kI.required)})}ngOnInit(){}numberInputFormat(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}submit(){this.vehicleForm.invalid||(this.carFacade.updateCustomerVehicle(this.vehicleForm.value),this.carFacade.nextFlow())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-price"]],decls:14,vars:7,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"select-container"],["formControlName","vehicleValue",3,"nzFormatter","nzMin","nzStep"],["dir","rtl","formControlName","basicDiscountYears"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzLabel","\u0628\u06cc\u0634\u062a\u0631",3,"nzValue"],["appButton","","type","submit"],["src","left-play",3,"size"],[3,"nzValue","nzLabel"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(1,"div",1)(2,"p"),t._uU(3,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t._UZ(4,"nz-input-number",2),t.qZA(),t.TgZ(5,"div",1)(6,"p"),t._uU(7,"\u0633\u0627\u0628\u0642\u0647 \u062a\u062e\u0641\u06cc\u0641 \u0628\u06cc\u0645\u0647 \u0628\u062f\u0646\u0647 \u0628\u0647 \u0633\u0627\u0644"),t.qZA(),t.TgZ(8,"nz-select",3),t.YNc(9,_n,1,2,"nz-option",4),t._UZ(10,"nz-option",5),t.qZA()(),t.TgZ(11,"button",6),t._uU(12," \u0645\u0631\u062d\u0644\u0647 \u0628\u0639\u062f "),t._UZ(13,"app-icon",7),t.qZA()()),2&e&&(t.Q6J("formGroup",i.vehicleForm),t.xp6(4),t.Q6J("nzFormatter",i.numberInputFormat)("nzMin",1e7)("nzStep",1e7),t.xp6(5),t.Q6J("ngForOf",i.discountYears),t.xp6(1),t.Q6J("nzValue",6),t.xp6(3),t.Q6J("size",0))},directives:[l._Y,l.JL,l.sg,Re,l.JJ,l.u,v.Vq,f.Lv,p.sg,v.Ip,Y.H,H.o],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:flex-start}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;margin-bottom:auto}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:end;display:flex;align-items:center;gap:.5rem}.form[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),n})(),zn=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-info"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"Blog post will be here"),t.qZA())},styles:[""]}),n})();function vn(n,o){1&n&&t._UZ(0,"app-car-model")}function yn(n,o){1&n&&t._UZ(0,"app-car-usage")}function xn(n,o){1&n&&t._UZ(0,"app-car-price")}function bn(n,o){1&n&&(t.TgZ(0,"app-main"),t.YNc(1,vn,1,0,"app-car-model",2),t.YNc(2,yn,1,0,"app-car-usage",2),t.YNc(3,xn,1,0,"app-car-price",2),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3))}let Tn=(()=>{class n{constructor(e){this.carFacade=e}ngOnInit(){this.carFacade.resetFlow(),this.carFacade.loadVehicles(),this.carFacade.loadLookups()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["quote-car"]],decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngIf"],[4,"ngSwitchCase"]],template:function(e,i){1&e&&(t.ynx(0,0),t.ALo(1,"async"),t.YNc(2,bn,4,3,"app-main",1),t.ALo(3,"async"),t.BQk(),t._UZ(4,"app-info")),2&e&&(t.Q6J("ngSwitch",t.lcZ(1,2,i.carFacade.flowStep$)),t.xp6(2),t.Q6J("ngIf",(t.lcZ(3,4,i.carFacade.flowStep$)||0)<4))},directives:[p.RF,p.O5,Et,p.n9,$t,hn,Cn,zn],pipes:[p.Ov],styles:[""]}),n})();function Nn(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.ekj("done",e.done),t.xp6(1),t.Oqu(e.label)}}let Fn=(()=>{class n{constructor(){this.steps=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-flow-navigation"]],inputs:{steps:"steps"},decls:2,vars:1,consts:[[3,"done",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"ul"),t.YNc(1,Nn,2,3,"li",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.steps))},directives:[p.sg],styles:['@charset "UTF-8";ul[_ngcontent-%COMP%]{list-style:none;display:flex;padding:unset;margin:unset;margin:1rem auto;justify-content:center;width:max-content;position:relative}ul[_ngcontent-%COMP%]:after{content:"";height:1px;width:calc(100% - 1rem);background-color:#503ae7;position:absolute;top:.5rem;right:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;font-size:.8rem;position:relative}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:after{content:"";height:3px;width:calc(50% - .5rem);z-index:2;background-color:#e5e5e5;position:absolute;top:.5rem;left:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:"";height:3px;width:calc(50% - .5rem);z-index:2;background-color:#e5e5e5;position:absolute;top:.5rem;right:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-left:3.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";display:block;background-color:#503ae7;border-radius:50%;width:1rem;height:1rem;z-index:3;color:#fff;display:flex;align-items:center;justify-content:center;font-size:.65rem;line-height:.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1):before{content:"1"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2):before{content:"2"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3):before{content:"3"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4):before{content:"4"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5):before{content:"5"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6):before{content:"6"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7):before{content:"7"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8):before{content:"8"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9):before{content:"9"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10):before{content:"10"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(11):before{content:"11"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(12):before{content:"12"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(13):before{content:"13"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(14):before{content:"14"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(15):before{content:"15"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(16):before{content:"16"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(17):before{content:"17"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(18):before{content:"18"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(19):before{content:"19"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(20):before{content:"20"}ul[_ngcontent-%COMP%]   li.done[_ngcontent-%COMP%]:before{content:"\\2713"}']}),n})();var ce=u(1135),In=u(2420),A=u(2643),M=u(2683),S=u(969),V=u(925);let ue=(()=>{class n{constructor(e,i,r,s){this.ngControl=e,this.directionality=s,this.nzBorderless=!1,this.nzSize="default",this._disabled=!1,this.disabled$=new y.x,this.dir="ltr",this.destroy$=new y.x,i.addClass(r.nativeElement,"ant-input")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=null!=e&&"false"!=`${e}`}ngOnInit(){var e,i;this.ngControl&&(null===(e=this.ngControl.statusChanges)||void 0===e||e.pipe((0,O.h)(()=>null!==this.ngControl.disabled),(0,g.R)(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)})),this.dir=this.directionality.value,null===(i=this.directionality.change)||void 0===i||i.pipe((0,g.R)(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnChanges(e){const{disabled:i}=e;i&&this.disabled$.next(this.disabled)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.a5,10),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(f.Is,8))},n.\u0275dir=t.lG2({type:n,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostVars:11,hostBindings:function(e,i){2&e&&(t.uIk("disabled",i.disabled||null),t.ekj("ant-input-disabled",i.disabled)("ant-input-borderless",i.nzBorderless)("ant-input-lg","large"===i.nzSize)("ant-input-sm","small"===i.nzSize)("ant-input-rtl","rtl"===i.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",disabled:"disabled"},exportAs:["nzInput"],features:[t.TTD]}),(0,C.gn)([(0,h.yF)()],n.prototype,"nzBorderless",void 0),n})(),En=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,N.PV,V.ud,S.T]]}),n})();var Ve=u(4707),W=u(4090),pe=u(5113);let B=(()=>{class n{constructor(e,i,r,s,a,c,d){this.elementRef=e,this.renderer=i,this.mediaMatcher=r,this.ngZone=s,this.platform=a,this.breakpointService=c,this.directionality=d,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new Ve.t(1),this.dir="ltr",this.destroy$=new y.x}getGutter(){const e=[null,null],i=this.nzGutter||0;return(Array.isArray(i)?i:[i,null]).forEach((s,a)=>{"object"==typeof s&&null!==s?(e[a]=null,Object.keys(W.WV).map(c=>{const d=c;this.mediaMatcher.matchMedia(W.WV[d]).matches&&s[d]&&(e[a]=s[d])})):e[a]=Number(s)||null}),e}setGutterStyle(){const[e,i]=this.getGutter();this.actualGutter$.next([e,i]);const r=(s,a)=>{null!==a&&this.renderer.setStyle(this.elementRef.nativeElement,s,`-${a/2}px`)};r("margin-left",e),r("margin-right",e),r("margin-top",i),r("margin-bottom",i)}ngOnInit(){var e;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe((0,g.R)(this.destroy$)).subscribe(i=>{this.dir=i}),this.setGutterStyle()}ngOnChanges(e){e.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(W.WV).pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(pe.vx),t.Y36(t.R0b),t.Y36(V.t4),t.Y36(W.r3),t.Y36(f.Is,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:18,hostBindings:function(e,i){2&e&&t.ekj("ant-row-top","top"===i.nzAlign)("ant-row-middle","middle"===i.nzAlign)("ant-row-bottom","bottom"===i.nzAlign)("ant-row-start","start"===i.nzJustify)("ant-row-end","end"===i.nzJustify)("ant-row-center","center"===i.nzJustify)("ant-row-space-around","space-around"===i.nzJustify)("ant-row-space-between","space-between"===i.nzJustify)("ant-row-rtl","rtl"===i.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[t.TTD]}),n})(),X=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.nzRowDirective=i,this.renderer=r,this.directionality=s,this.classMap={},this.destroy$=new y.x,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const e=Object.assign({"ant-col":!0,[`ant-col-${this.nzSpan}`]:(0,h.DX)(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:(0,h.DX)(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:(0,h.DX)(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:(0,h.DX)(this.nzPull),[`ant-col-push-${this.nzPush}`]:(0,h.DX)(this.nzPush),"ant-col-rtl":"rtl"===this.dir},this.generateClass());for(const i in this.classMap)this.classMap.hasOwnProperty(i)&&this.renderer.removeClass(this.elementRef.nativeElement,i);this.classMap=Object.assign({},e);for(const i in this.classMap)this.classMap.hasOwnProperty(i)&&this.classMap[i]&&this.renderer.addClass(this.elementRef.nativeElement,i)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(e){return"number"==typeof e?`${e} ${e} auto`:"string"==typeof e&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}generateClass(){const i={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(r=>{const s=r.replace("nz","").toLowerCase();if((0,h.DX)(this[r]))if("number"==typeof this[r]||"string"==typeof this[r])i[`ant-col-${s}-${this[r]}`]=!0;else{const a=this[r];["span","pull","push","offset","order"].forEach(d=>{i[`ant-col-${s}${"span"===d?"-":`-${d}-`}${a[d]}`]=a&&(0,h.DX)(a[d])})}}),i}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe((0,g.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(e){this.setHostClassMap();const{nzFlex:i}=e;i&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe((0,g.R)(this.destroy$)).subscribe(([e,i])=>{const r=(s,a)=>{null!==a&&this.renderer.setStyle(this.elementRef.nativeElement,s,a/2+"px")};r("padding-left",e),r("padding-right",e),r("padding-top",i),r("padding-bottom",i)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(B,9),t.Y36(t.Qsj),t.Y36(f.Is,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(e,i){2&e&&t.Udp("flex",i.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[t.TTD]}),n})(),Be=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,pe.xu,V.ud]]}),n})();var Ge=u(8076);const Ln=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];var qe=u(1884),E=u(6950),Z=u(4832),U=u(8038),je=u(9776);const Rn=["overlay"];function Vn(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzTitle)}}function Bn(n,o){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"span",5),t.qZA(),t.TgZ(4,"div",6),t.YNc(5,Vn,2,1,"ng-container",7),t.qZA()()()),2&n){const e=t.oxw();t.ekj("ant-tooltip-rtl","rtl"===e.dir),t.Q6J("ngClass",e._classMap)("ngStyle",e.nzOverlayStyle)("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),t.xp6(3),t.Q6J("ngStyle",e._contentStyleMap),t.xp6(1),t.Q6J("ngStyle",e._contentStyleMap),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzTitle)("nzStringTemplateOutletContext",e.nzTitleContext)}}let Gn=(()=>{class n{constructor(e,i,r,s,a,c){this.elementRef=e,this.hostView=i,this.resolver=r,this.renderer=s,this.noAnimation=a,this.nzConfigService=c,this.visibleChange=new t.vpe,this.internalVisible=!1,this.destroy$=new y.x,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return void 0!==this.trigger?this.trigger:"hover"}get _placement(){const e=this.placement;return Array.isArray(e)&&e.length>0?e:"string"==typeof e&&e?[e]:["top"]}get _visible(){return(void 0!==this.visible?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}ngOnChanges(e){const{trigger:i}=e;i&&!i.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(e)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){var e;null===(e=this.component)||void 0===e||e.show()}hide(){var e;null===(e=this.component)||void 0===e||e.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const e=this.componentRef;this.component=e.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),e.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties(),this.component.nzVisibleChange.pipe((0,qe.x)(),(0,g.R)(this.destroy$)).subscribe(i=>{this.internalVisible=i,this.visibleChange.emit(i)})}registerTriggers(){const e=this.elementRef.nativeElement,i=this.trigger;if(this.removeTriggerListeners(),"hover"===i){let r;this.triggerDisposables.push(this.renderer.listen(e,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(e,"mouseleave",()=>{var s;this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),(null===(s=this.component)||void 0===s?void 0:s.overlay.overlayRef)&&!r&&(r=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(r,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(r,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===i?(this.triggerDisposables.push(this.renderer.listen(e,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(e,"focusout",()=>this.hide()))):"click"===i&&this.triggerDisposables.push(this.renderer.listen(e,"click",r=>{r.preventDefault(),this.show()}))}updatePropertiesByChanges(e){this.updatePropertiesByKeys(Object.keys(e))}updatePropertiesByKeys(e){var i;const r=Object.assign({title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter]},this.getProxyPropertyMap());(e||Object.keys(r).filter(s=>!s.startsWith("directive"))).forEach(s=>{if(r[s]){const[a,c]=r[s];this.updateComponentValue(a,c())}}),null===(i=this.component)||void 0===i||i.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(e,i){void 0!==i&&(this.component[e]=i)}delayEnterLeave(e,i,r=-1){this.delayTimer?this.clearTogglingTimer():r>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,i?this.show():this.hide()},1e3*r):i&&e?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(e=>e()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t._Vd),t.Y36(t.Qsj),t.Y36(Z.P),t.Y36(U.jY))},n.\u0275dir=t.lG2({type:n,features:[t.TTD]}),n})(),qn=(()=>{class n{constructor(e,i,r){this.cdr=e,this.directionality=i,this.noAnimation=r,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new y.x,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...E.Ek],this.destroy$=new y.x}set nzVisible(e){const i=(0,h.sw)(e);this._visible!==i&&(this._visible=i,this.nzVisibleChange.next(i))}get nzVisible(){return this._visible}set nzTrigger(e){this._trigger=e}get nzTrigger(){return this._trigger}set nzPlacement(e){const i=e.map(r=>E.yW[r]);this._positions=[...i,...E.Ek]}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe((0,g.R)(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){!this.nzVisible||(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(e){this.preferredPlacement=(0,E.d_)(e),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(e){this.origin=e,this.cdr.markForCheck()}onClickOutside(e){!this.origin.nativeElement.contains(e.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(f.Is,8),t.Y36(Z.P))},n.\u0275dir=t.lG2({type:n,viewQuery:function(e,i){if(1&e&&t.Gf(Rn,5),2&e){let r;t.iGM(r=t.CRH())&&(i.overlay=r.first)}}}),n})(),Jn=(()=>{class n extends Gn{constructor(e,i,r,s,a){super(e,i,r,s,a),this.titleContext=null,this.trigger="hover",this.placement="top",this.visibleChange=new t.vpe,this.componentRef=this.hostView.createComponent(Yn)}getProxyPropertyMap(){return Object.assign(Object.assign({},super.getProxyPropertyMap()),{nzTooltipColor:["nzColor",()=>this.nzTooltipColor],nzTooltipTitleContext:["nzTitleContext",()=>this.titleContext]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t._Vd),t.Y36(t.Qsj),t.Y36(Z.P,9))},n.\u0275dir=t.lG2({type:n,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("ant-tooltip-open",i.visible)},inputs:{title:["nzTooltipTitle","title"],titleContext:["nzTooltipTitleContext","titleContext"],directiveTitle:["nz-tooltip","directiveTitle"],trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:["nzTooltipArrowPointAtCenter","arrowPointAtCenter"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[t.qOj]}),(0,C.gn)([(0,h.yF)()],n.prototype,"arrowPointAtCenter",void 0),n})(),Yn=(()=>{class n extends qn{constructor(e,i,r){super(e,i,r),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return function jn(n){return!(n instanceof t.Rgc||""!==n&&(0,h.DX)(n))}(this.nzTitle)}updateStyles(){const e=this.nzColor&&function $n(n){return-1!==Ln.indexOf(n)}(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:e},this._contentStyleMap={backgroundColor:this.nzColor&&!e?this.nzColor:null}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(f.Is,8),t.Y36(Z.P,9))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[t.qOj],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(e,i){1&e&&(t.YNc(0,Bn,6,11,"ng-template",0,1,t.W1O),t.NdJ("overlayOutsideClick",function(s){return i.onClickOutside(s)})("detach",function(){return i.hide()})("positionChange",function(s){return i.onPositionChange(s)})),2&e&&t.Q6J("cdkConnectedOverlayOrigin",i.origin)("cdkConnectedOverlayOpen",i._visible)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",i.nzArrowPointAtCenter)},directives:[je.pI,E.hQ,p.mk,p.PC,Z.P,S.f],encapsulation:2,data:{animation:[Ge.$C]},changeDetection:0}),n})(),Je=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,je.U8,S.T,E.e4,Z.g]]}),n})();var Hn=u(727),Ye=u(8675),He=u(4170);const de=["*"];function Qn(n,o){if(1&n&&t._UZ(0,"i",6),2&n){const e=t.oxw();t.Q6J("nzType",e.iconType)}}function Wn(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.innerTip)}}const Xn=function(n){return[n]},Kn=function(n){return{$implicit:n}};function ei(n,o){if(1&n&&(t.TgZ(0,"div",7)(1,"div",8),t.YNc(2,Wn,2,1,"ng-container",9),t.qZA()()),2&n){const e=t.oxw();t.Q6J("@helpMotion",void 0),t.xp6(1),t.Q6J("ngClass",t.VKq(4,Xn,"ant-form-item-explain-"+e.status)),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.innerTip)("nzStringTemplateOutletContext",t.VKq(6,Kn,e.validateControl))}}function ti(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzExtra)}}function ni(n,o){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,ti,2,1,"ng-container",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzExtra)}}function ii(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"i",3),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("nzType",e)("nzTheme",i.tooltipIcon.theme)}}function oi(n,o){if(1&n&&(t.TgZ(0,"span",1),t.YNc(1,ii,2,2,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.Q6J("nzTooltipTitle",e.nzTooltipTitle),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.tooltipIcon.type)}}let K=(()=>{class n{constructor(e,i,r){this.cdr=r,this.status=null,this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new y.x,i.addClass(e.nativeElement,"ant-form-item")}setWithHelpViaTips(e){this.withHelpClass=e,this.cdr.markForCheck()}setStatus(e){this.status=e,this.cdr.markForCheck()}setHasFeedback(e){this.hasFeedback=e,this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-form-item"]],hostVars:12,hostBindings:function(e,i){2&e&&t.ekj("ant-form-item-has-success","success"===i.status)("ant-form-item-has-warning","warning"===i.status)("ant-form-item-has-error","error"===i.status)("ant-form-item-is-validating","validating"===i.status)("ant-form-item-has-feedback",i.hasFeedback&&i.status)("ant-form-item-with-help",i.withHelpClass)},exportAs:["nzFormItem"],ngContentSelectors:de,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),n})();const me={type:"question-circle",theme:"outline"};let ee=(()=>{class n{constructor(e,i,r,s){var a;this.nzConfigService=e,this.renderer=r,this.directionality=s,this._nzModuleName="form",this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=me,this.dir="ltr",this.destroy$=new y.x,this.inputChanges$=new y.x,this.renderer.addClass(i.nativeElement,"ant-form"),this.dir=this.directionality.value,null===(a=this.directionality.change)||void 0===a||a.pipe((0,g.R)(this.destroy$)).subscribe(c=>{this.dir=c})}getInputObservable(e){return this.inputChanges$.pipe((0,O.h)(i=>e in i),(0,w.U)(i=>i[e]))}ngOnChanges(e){this.inputChanges$.next(e)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.jY),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(f.Is,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","nz-form",""]],hostVars:8,hostBindings:function(e,i){2&e&&t.ekj("ant-form-horizontal","horizontal"===i.nzLayout)("ant-form-vertical","vertical"===i.nzLayout)("ant-form-inline","inline"===i.nzLayout)("ant-form-rtl","rtl"===i.dir)},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon"},exportAs:["nzForm"],features:[t.TTD]}),(0,C.gn)([(0,U.oS)(),(0,h.yF)()],n.prototype,"nzNoColon",void 0),(0,C.gn)([(0,U.oS)()],n.prototype,"nzAutoTips",void 0),(0,C.gn)([(0,h.yF)()],n.prototype,"nzDisableAutoTips",void 0),(0,C.gn)([(0,U.oS)()],n.prototype,"nzTooltipIcon",void 0),n})();const si={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let he=(()=>{class n{constructor(e,i,r,s,a,c){var d,z;this.nzFormItemComponent=i,this.cdr=r,this.nzFormDirective=c,this._hasFeedback=!1,this.validateChanges=Hn.w0.EMPTY,this.validateString=null,this.destroyed$=new y.x,this.status=null,this.validateControl=null,this.iconType=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",s.addClass(e.nativeElement,"ant-form-item-control"),this.subscribeAutoTips(a.localeChange.pipe((0,ve.b)(F=>this.localeId=F.locale))),this.subscribeAutoTips(null===(d=this.nzFormDirective)||void 0===d?void 0:d.getInputObservable("nzAutoTips")),this.subscribeAutoTips(null===(z=this.nzFormDirective)||void 0===z?void 0:z.getInputObservable("nzDisableAutoTips").pipe((0,O.h)(()=>"default"===this.nzDisableAutoTips)))}get disableAutoTips(){var e;return"default"!==this.nzDisableAutoTips?(0,h.sw)(this.nzDisableAutoTips):null===(e=this.nzFormDirective)||void 0===e?void 0:e.nzDisableAutoTips}set nzHasFeedback(e){this._hasFeedback=(0,h.sw)(e),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(e){e instanceof l.TO||e instanceof l.On?(this.validateControl=e,this.validateString=null,this.watchControl()):e instanceof l.u?(this.validateControl=e.control,this.validateString=null,this.watchControl()):(this.validateString=e,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe((0,Ye.O)(null),(0,g.R)(this.destroyed$)).subscribe(e=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.iconType=this.status?si[this.status]:null,this.innerTip=this.getInnerTip(this.status),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(e){let i;return i="warning"===e||this.validateControlStatus("INVALID","warning")?"warning":"error"===e||this.validateControlStatus("INVALID")?"error":"validating"===e||"pending"===e||this.validateControlStatus("PENDING")?"validating":"success"===e||this.validateControlStatus("VALID")?"success":null,i}validateControlStatus(e,i){if(this.validateControl){const{dirty:r,touched:s,status:a}=this.validateControl;return(!!r||!!s)&&(i?this.validateControl.hasError(i):a===e)}return!1}getInnerTip(e){switch(e){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){var e,i,r,s,a,c,d,z,F,D,b,T,ie;if(this.validateControl){const ge=this.validateControl.errors||{};let _e="";for(const L in ge)if(ge.hasOwnProperty(L)&&(_e=null!==(b=null!==(d=null!==(a=null!==(i=null===(e=ge[L])||void 0===e?void 0:e[this.localeId])&&void 0!==i?i:null===(s=null===(r=this.nzAutoTips)||void 0===r?void 0:r[this.localeId])||void 0===s?void 0:s[L])&&void 0!==a?a:null===(c=this.nzAutoTips.default)||void 0===c?void 0:c[L])&&void 0!==d?d:null===(D=null===(F=null===(z=this.nzFormDirective)||void 0===z?void 0:z.nzAutoTips)||void 0===F?void 0:F[this.localeId])||void 0===D?void 0:D[L])&&void 0!==b?b:null===(ie=null===(T=this.nzFormDirective)||void 0===T?void 0:T.nzAutoTips.default)||void 0===ie?void 0:ie[L]),_e)break;this.autoErrorTip=_e}}subscribeAutoTips(e){null==e||e.pipe((0,g.R)(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}ngOnChanges(e){const{nzDisableAutoTips:i,nzAutoTips:r,nzSuccessTip:s,nzWarningTip:a,nzErrorTip:c,nzValidatingTip:d}=e;i||r?(this.updateAutoErrorTip(),this.setStatus()):(s||a||c||d)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.nzValidateStatus=this.defaultValidateControl instanceof l.oH?this.defaultValidateControl.control:this.defaultValidateControl)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(K,9),t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(He.wi),t.Y36(ee,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-form-control"]],contentQueries:function(e,i,r){if(1&e&&t.Suo(r,l.a5,5),2&e){let s;t.iGM(s=t.CRH())&&(i.defaultValidateControl=s.first)}},inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],features:[t.TTD],ngContentSelectors:de,decls:7,vars:3,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-children-icon"],["nz-icon","",3,"nzType",4,"ngIf"],["class","ant-form-item-explain ant-form-item-explain-connected",4,"ngIf"],["class","ant-form-item-extra",4,"ngIf"],["nz-icon","",3,"nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-form-item-extra"],[4,"nzStringTemplateOutlet"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA(),t.TgZ(3,"span",2),t.YNc(4,Qn,1,1,"i",3),t.qZA()(),t.YNc(5,ei,3,8,"div",4),t.YNc(6,ni,2,1,"div",5)),2&e&&(t.xp6(4),t.Q6J("ngIf",i.nzHasFeedback&&i.iconType),t.xp6(1),t.Q6J("ngIf",i.innerTip),t.xp6(1),t.Q6J("ngIf",i.nzExtra))},directives:[p.O5,N.Ls,p.mk,S.f],encapsulation:2,data:{animation:[Ge.c8]},changeDetection:0}),n})();function Qe(n){const o="string"==typeof n?{type:n}:n;return Object.assign(Object.assign({},me),o)}let fe=(()=>{class n{constructor(e,i,r,s){this.cdr=r,this.nzFormDirective=s,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.destroy$=new y.x,i.addClass(e.nativeElement,"ant-form-item-label"),this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe((0,O.h)(()=>"default"===this.noColon),(0,g.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe((0,O.h)(()=>"default"===this._tooltipIcon),(0,g.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}set nzNoColon(e){this.noColon=(0,h.sw)(e)}get nzNoColon(){var e;return"default"!==this.noColon?this.noColon:null===(e=this.nzFormDirective)||void 0===e?void 0:e.nzNoColon}set nzTooltipIcon(e){this._tooltipIcon=Qe(e)}get tooltipIcon(){var e;return"default"!==this._tooltipIcon?this._tooltipIcon:Qe((null===(e=this.nzFormDirective)||void 0===e?void 0:e.nzTooltipIcon)||me)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(ee,12))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-form-label"]],inputs:{nzFor:"nzFor",nzRequired:"nzRequired",nzNoColon:"nzNoColon",nzTooltipTitle:"nzTooltipTitle",nzTooltipIcon:"nzTooltipIcon"},exportAs:["nzFormLabel"],ngContentSelectors:de,decls:3,vars:6,consts:[["class","ant-form-item-tooltip","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"label"),t.Hsn(1),t.YNc(2,oi,2,2,"span",0),t.qZA()),2&e&&(t.ekj("ant-form-item-no-colon",i.nzNoColon)("ant-form-item-required",i.nzRequired),t.uIk("for",i.nzFor),t.xp6(2),t.Q6J("ngIf",i.nzTooltipTitle))},directives:[p.O5,Jn,S.f,N.Ls],encapsulation:2,changeDetection:0}),(0,C.gn)([(0,h.yF)()],n.prototype,"nzRequired",void 0),n})(),ai=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,Be,N.PV,Je,pe.xu,V.ud,S.T],Be]}),n})();function li(n,o){if(1&n&&t._UZ(0,"nz-option",14),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}function ci(n,o){if(1&n&&t._UZ(0,"nz-option",14),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}let ui=(()=>{class n{constructor(e,i,r){this.profileService=e,this.carService=i,this.facade=r,this.insuranceForMe=new ce.X(!0),this.genders=["\u0645\u0631\u062f","\u0632\u0646"],this.jobTitles=[],this.handleSubmitResult=()=>({next:s=>{this.facade.updateCustomerInfo(s.data),this.facade.nextFlow()},error:s=>{alert(s.message)}}),this.form=new l.cw({first_name:new l.NI("",l.kI.required),last_name:new l.NI("",l.kI.required),national_id:new l.NI("",l.kI.required),birth_date:new l.NI("",l.kI.required),father_name:new l.NI(""),gender:new l.NI(""),job_title:new l.NI("")})}ngOnInit(){this.readProfileData(),this.insuranceForMe.subscribe({next:e=>{e?this.updateFormByProfile():this.form.reset()}})}updateFormByProfile(){!this.profileData||this.form.patchValue({first_name:this.profileData.first_name,last_name:this.profileData.last_name,national_id:this.profileData.national_id,birth_date:this.profileData.birth_date,father_name:this.profileData.father_name,job_title:this.profileData.job_title})}handleSubmit(){this.insuranceForMe.getValue()?this.profileService.updateProfile(this.form.value).pipe((0,k.w)(()=>this.carService.addForUser())).subscribe(this.handleSubmitResult()):this.carService.addCustomer(this.form.value).subscribe(this.handleSubmitResult())}readProfileData(){this.profileService.loadProfile().subscribe({next:e=>{this.profileData=e.data,this.updateFormByProfile()}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(In.H),t.Y36(q),t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-info"]],decls:35,vars:12,consts:[[1,"hint"],[1,"buttons"],["nz-button","",3,"click"],[3,"formGroup"],["formControlName","first_name","nz-input","","placeholder","\u0646\u0627\u0645"],["formControlName","last_name","nz-input","","placeholder","\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"],["formControlName","national_id","nz-input","","placeholder","\u06a9\u062f \u0645\u0644\u06cc"],["formControlName","birth_date","nz-input","","placeholder","\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"],["formControlName","father_name","nz-input","","placeholder","\u0646\u0627\u0645 \u067e\u062f\u0631"],["dir","rtl","formControlName","gender"],["dir","rtl",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["dir","rtl","formControlName","job_title"],["nz-button","","nzType","primary",3,"disabled","click"],["nz-button","","nzDanger",""],["dir","rtl",3,"nzValue","nzLabel"]],template:function(e,i){1&e&&(t.TgZ(0,"main")(1,"h1"),t._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0645\u0647 \u06af\u0630\u0627\u0631"),t.qZA(),t.TgZ(3,"p",0),t._uU(4,"\u0628\u0631\u0627\u06cc \u0686\u0647 \u06a9\u0633\u06cc \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u062e\u0648\u062f \u0631\u0627 \u0628\u062e\u0631\u06cc\u062f \u061f"),t.qZA(),t.TgZ(5,"div",1)(6,"button",2),t.NdJ("click",function(){return i.insuranceForMe.next(!0)}),t.ALo(7,"async"),t._uU(8,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u0631\u0627\u06cc \u062e\u0648\u062f\u0645 "),t.qZA(),t.TgZ(9,"button",2),t.NdJ("click",function(){return i.insuranceForMe.next(!1)}),t.ALo(10,"async"),t._uU(11,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u0631\u0627\u06cc \u062f\u06cc\u06af\u0631\u06cc "),t.qZA()(),t.TgZ(12,"form",3),t._UZ(13,"input",4)(14,"input",5)(15,"input",6)(16,"input",7)(17,"input",8),t.TgZ(18,"nz-form-item")(19,"nz-form-label"),t._uU(20,"\u062c\u0646\u0633\u06cc\u062a"),t.qZA(),t.TgZ(21,"nz-form-control")(22,"nz-select",9),t.YNc(23,li,1,2,"nz-option",10),t.qZA()()(),t.TgZ(24,"nz-form-item")(25,"nz-form-label"),t._uU(26,"\u0634\u063a\u0644"),t.qZA(),t.TgZ(27,"nz-form-control")(28,"nz-select",11),t.YNc(29,ci,1,2,"nz-option",10),t.qZA()()()()(),t.TgZ(30,"footer")(31,"button",12),t.NdJ("click",function(){return i.handleSubmit()}),t._uU(32," \u062b\u0628\u062a "),t.qZA(),t.TgZ(33,"button",13),t._uU(34," \u0645\u0631\u062d\u0644\u0647 \u0642\u0628\u0644 "),t.qZA()()),2&e&&(t.xp6(6),t.ekj("active",t.lcZ(7,8,i.insuranceForMe)),t.xp6(3),t.ekj("active",!t.lcZ(10,10,i.insuranceForMe)),t.xp6(3),t.Q6J("formGroup",i.form),t.xp6(11),t.Q6J("ngForOf",i.genders),t.xp6(6),t.Q6J("ngForOf",i.jobTitles),t.xp6(2),t.Q6J("disabled",i.form.invalid))},directives:[I.ix,A.dQ,M.w,l._Y,l.JL,l.sg,l.Fj,ue,l.JJ,l.u,B,K,X,fe,he,v.Vq,f.Lv,p.sg,v.Ip],pipes:[p.Ov],styles:["main[_ngcontent-%COMP%]{padding:1rem 2rem}main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;font-size:.8rem}main[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;margin:1rem 0;justify-content:center}main[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#3acaf8;color:#fff}main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:1rem;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:1rem;gap:1rem}main[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:unset}"]}),n})();function We(n,o,e,i,r,s,a){try{var c=n[s](a),d=c.value}catch(z){return void e(z)}c.done?o(d):Promise.resolve(d).then(i,r)}function te(n){return function(){var o=this,e=arguments;return new Promise(function(i,r){var s=n.apply(o,e);function a(d){We(s,i,r,a,c,"next",d)}function c(d){We(s,i,r,a,c,"throw",d)}a(void 0)})}}var ne=u(3905);function pi(n,o){if(1&n&&(t.TgZ(0,"option",8),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.Oqu(e.Caption)}}let di=(()=>{class n{constructor(e){this.carFacade=e,this.valueChange=new t.vpe,this.chars=[],this.value={iran:"",twoDigit:"",threeDigit:"",char:""}}ngOnInit(){this.carFacade.lookups$.subscribe({next:e=>{this.chars=e.plaque_middle_chars||[]}})}onChangeValue(e,i){var r;const s=Object.assign(Object.assign({},this.value),{[i]:(null===(r=e.target)||void 0===r?void 0:r.value.slice(0,2))||""});this.valueChange.emit(s)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-pelak"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},decls:13,vars:4,consts:[[1,"leftBlueSide"],[1,"middle"],["placeholder","31",1,"twoDigit",3,"maxLength","change"],[1,"char",3,"change"],[3,"value",4,"ngFor","ngForOf"],["placeholder","311",1,"threeDigit",3,"maxLength","change"],[1,"iran"],["placeholder","96",3,"maxLength","change"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"main")(1,"div",0)(2,"span"),t._uU(3,"IR"),t.qZA()(),t.TgZ(4,"div",1)(5,"input",2),t.NdJ("change",function(s){return i.onChangeValue(s,"twoDigit")}),t.qZA(),t.TgZ(6,"select",3),t.NdJ("change",function(s){return i.onChangeValue(s,"char")}),t.YNc(7,pi,2,2,"option",4),t.qZA(),t.TgZ(8,"input",5),t.NdJ("change",function(s){return i.onChangeValue(s,"threeDigit")}),t.qZA()(),t.TgZ(9,"div",6)(10,"span"),t._uU(11,"\u0627\u06cc\u0631\u0627\u0646"),t.qZA(),t.TgZ(12,"input",7),t.NdJ("change",function(s){return i.onChangeValue(s,"iran")}),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("maxLength",2),t.xp6(2),t.Q6J("ngForOf",i.chars),t.xp6(1),t.Q6J("maxLength",3),t.xp6(4),t.Q6J("maxLength",2))},directives:[p.sg,l.YN,l.Kr],styles:["main[_ngcontent-%COMP%]{background-color:#fff;border:2px solid black;border-radius:.2rem;width:max-content;display:flex;flex-direction:row-reverse;align-items:center}.leftBlueSide[_ngcontent-%COMP%]{background-color:#0043ae;color:#fff;padding:.5rem}.middle[_ngcontent-%COMP%]{padding:.5rem;display:flex;gap:.5rem;flex-direction:row-reverse}input[_ngcontent-%COMP%]{font-family:monospace;text-align:center;border:2px solid #88888855}.twoDigit[_ngcontent-%COMP%]{width:1.5rem}.char[_ngcontent-%COMP%]{width:2.5rem}.threeDigit[_ngcontent-%COMP%]{width:2rem}.iran[_ngcontent-%COMP%]{padding:0 .5rem;display:flex;flex-direction:column;align-items:center;font-size:.7rem}.iran[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:1.5rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[_ngcontent-%COMP%]::placeholder{color:#9999}"]}),n})();function mi(n,o){if(1&n&&t._UZ(0,"nz-option",11),2&n){const e=o.$implicit;t.Q6J("nzValue",e.Id)("nzLabel",e.Caption)}}let hi=(()=>{class n{constructor(e,i){this.carFacade=e,this.carService=i,this.colors$=this.carFacade.lookups$.pipe((0,w.U)(r=>r.colors)),this.pelak={threeDigit:"",twoDigit:"",iran:"",char:""},this.form=new l.cw({customer:new l.NI(""),motor_no:new l.NI,color:new l.NI,chasis_no:new l.NI,vin:new l.NI})}inquiryId(){var e=this;return te(function*(){return(0,ne.z)(e.carFacade.customerVehicle$).then(i=>i.inquiryId)})()}ngOnInit(){this.loadCustomerIdToForm()}loadCustomerIdToForm(){this.carFacade.customerInfo$.subscribe({next:e=>this.form.patchValue({customer:e.id})})}submit(){var e=this;return te(function*(){e.carService.addVehicle({customer:e.form.value.customer,vin:e.form.value.vin,motor_no:e.form.value.motor_no,chasis_no:e.form.value.chasis_no,plaque_left_no:+e.pelak.twoDigit,plaque_middle_char_id:+e.pelak.char,plaque_right_no:+e.pelak.threeDigit,plaque_serial_no:+e.pelak.iran,inquiryId:yield e.inquiryId()}).subscribe({next:i=>{e.carFacade.updateCustomerVehicle(i.data),e.carFacade.nextFlow()},error:i=>{alert(i.message)}})})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x),t.Y36(q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-info"]],decls:38,vars:10,consts:[[1,"hint"],["nz-form","",3,"formGroup"],["nzFor","email",3,"nzSpan"],["nz-input","","formControlName","motor_no"],["dir","rtl","formControlName","color"],["dir","rtl",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","formControlName","vin"],["nz-input","","formControlName","chasis_no"],[3,"value","valueChange"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzDanger",""],["dir","rtl",3,"nzValue","nzLabel"]],template:function(e,i){1&e&&(t.TgZ(0,"main")(1,"h1"),t._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(3,"p",0),t._uU(4,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u062e\u0631\u06cc\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u062f\u0646\u0647 \u06a9\u0627\u0645\u0644 \u06a9\u0646\u06cc\u062f"),t.qZA(),t.TgZ(5,"form",1)(6,"nz-form-item")(7,"nz-form-label",2),t._uU(8,"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u062a\u0648\u0631"),t.qZA(),t.TgZ(9,"nz-form-control"),t._UZ(10,"input",3),t.qZA()(),t.TgZ(11,"nz-form-item")(12,"nz-form-label",2),t._uU(13,"\u0631\u0646\u06af \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(14,"nz-form-control")(15,"nz-select",4),t.YNc(16,mi,1,2,"nz-option",5),t.ALo(17,"async"),t.qZA()()(),t.TgZ(18,"nz-form-item")(19,"nz-form-label",2),t._uU(20,"VIN"),t.qZA(),t.TgZ(21,"nz-form-control"),t._UZ(22,"input",6),t.qZA()(),t.TgZ(23,"nz-form-item")(24,"nz-form-label",2),t._uU(25,"\u0634\u0645\u0627\u0631\u0647 \u0634\u0627\u0633\u06cc"),t.qZA(),t.TgZ(26,"nz-form-control"),t._UZ(27,"input",7),t.qZA()(),t.TgZ(28,"nz-form-item")(29,"nz-form-label",2),t._uU(30,"\u0634\u0645\u0627\u0631\u0647 \u067e\u0644\u0627\u06a9"),t.qZA(),t.TgZ(31,"nz-form-control")(32,"app-car-pelak",8),t.NdJ("valueChange",function(s){return i.pelak=s}),t.qZA()()()()(),t.TgZ(33,"footer")(34,"button",9),t.NdJ("click",function(){return i.submit()}),t._uU(35,"\u062b\u0628\u062a"),t.qZA(),t.TgZ(36,"button",10),t._uU(37,"\u0645\u0631\u062d\u0644\u0647 \u0642\u0628\u0644"),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("formGroup",i.form),t.xp6(2),t.Q6J("nzSpan",4),t.xp6(5),t.Q6J("nzSpan",4),t.xp6(4),t.Q6J("ngForOf",t.lcZ(17,8,i.colors$)),t.xp6(3),t.Q6J("nzSpan",4),t.xp6(5),t.Q6J("nzSpan",4),t.xp6(5),t.Q6J("nzSpan",4),t.xp6(3),t.Q6J("value",i.pelak))},directives:[l._Y,l.JL,ee,l.sg,B,K,X,fe,he,ue,l.Fj,l.JJ,l.u,v.Vq,f.Lv,p.sg,v.Ip,di,I.ix,A.dQ,M.w],pipes:[p.Ov],styles:["main[_ngcontent-%COMP%]{padding:1rem 2rem}main[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#888}main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;gap:1rem;grid-row-gap:unset;row-gap:unset}"]}),n})(),fi=(()=>{class n{constructor(e){this.http=e,this.apiUrl=De.N.apiUrl}upload(e){return this.http.post(`${this.apiUrl}/file/upload/`,e)}delete(e){return this.http.delete(`${this.apiUrl}/file/${e}/`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(oe.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gi=u(2805),_i=u(4482),Ci=u(5032),Xe=u(5403),zi=u(8421),yi=u(7144);function xi(n,o){1&n&&(t.TgZ(0,"span",3),t._UZ(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),t.qZA())}function bi(n,o){}function Ti(n,o){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzTip)}}function Ni(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,bi,0,0,"ng-template",6),t.YNc(3,Ti,2,1,"div",7),t.qZA()()),2&n){const e=t.oxw(),i=t.MAs(1);t.xp6(1),t.ekj("ant-spin-rtl","rtl"===e.dir)("ant-spin-spinning",e.isLoading)("ant-spin-lg","large"===e.nzSize)("ant-spin-sm","small"===e.nzSize)("ant-spin-show-text",e.nzTip),t.xp6(1),t.Q6J("ngTemplateOutlet",e.nzIndicator||i),t.xp6(1),t.Q6J("ngIf",e.nzTip)}}function Fi(n,o){if(1&n&&(t.TgZ(0,"div",9),t.Hsn(1),t.qZA()),2&n){const e=t.oxw();t.ekj("ant-spin-blur",e.isLoading)}}const Ii=["*"];let Si=(()=>{class n{constructor(e,i,r){this.nzConfigService=e,this.cdr=i,this.directionality=r,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new y.x,this.spinning$=new ce.X(this.nzSpinning),this.delay$=new Ve.t(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){var e;this.delay$.pipe((0,Ye.O)(this.nzDelay),(0,qe.x)(),(0,k.w)(r=>0===r?this.spinning$:this.spinning$.pipe(function vi(n){return(0,_i.e)((o,e)=>{let i=!1,r=null,s=null;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}};o.subscribe((0,Xe.x)(e,c=>{null==s||s.unsubscribe(),i=!0,r=c,s=(0,Xe.x)(e,a,Ci.Z),(0,zi.Xf)(n(c)).subscribe(s)},()=>{a(),e.complete()},void 0,()=>{r=s=null}))})}(s=>(0,gi.H)(s?r:0)))),(0,g.R)(this.destroy$)).subscribe(r=>{this.isLoading=r,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,g.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),null===(e=this.directionality.change)||void 0===e||e.pipe((0,g.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzSpinning:i,nzDelay:r}=e;i&&this.spinning$.next(this.nzSpinning),r&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.jY),t.Y36(t.sBO),t.Y36(f.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("ant-spin-nested-loading",!i.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[t.TTD],ngContentSelectors:Ii,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,xi,5,0,"ng-template",null,0,t.W1O),t.YNc(2,Ni,4,12,"div",1),t.YNc(3,Fi,2,2,"div",2)),2&e&&(t.xp6(2),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.nzSimple))},directives:[p.O5,p.tP],encapsulation:2}),(0,C.gn)([(0,U.oS)()],n.prototype,"nzIndicator",void 0),(0,C.gn)([(0,h.Rn)()],n.prototype,"nzDelay",void 0),(0,C.gn)([(0,h.yF)()],n.prototype,"nzSimple",void 0),(0,C.gn)([(0,h.yF)()],n.prototype,"nzSpinning",void 0),n})(),Oi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,yi.Q8]]}),n})();function wi(n,o){1&n&&t._UZ(0,"i",7)}function Pi(n,o){1&n&&t._UZ(0,"nz-spin",8)}function Ai(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"i",9),t.NdJ("click",function(r){return t.CHM(e),t.oxw().removeDoc(r)}),t.qZA()}}let Mi=(()=>{class n{constructor(e){this.uploadService=e,this.label="",this.address="",this.addressChange=new t.vpe,this.loading=!1}ngOnInit(){}handleChangeFile(e){var i;const r=null===(i=e.target)||void 0===i?void 0:i.files[0];this.handlePreviewImage(r),this.uploadImage(r)}handlePreviewImage(e){const i=new FileReader;i.readAsDataURL(e),i.onloadend=r=>{this.imagePreview=i.result}}uploadImage(e){const i=new FormData;i.append("file",e),this.loading=!0,this.uploadService.upload(i).subscribe({next:r=>{this.loading=!1,this.addressChange.emit(r.data.file_id)},error:r=>{this.loading=!1,alert(r.message)}})}removeDoc(e){e.stopPropagation(),this.uploadService.delete(this.address).subscribe({next:()=>{this.imagePreview=void 0,this.addressChange.emit("")},error:()=>{this.imagePreview=void 0,this.addressChange.emit("")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload"]],inputs:{label:"label",address:"address"},outputs:{addressChange:"addressChange"},decls:10,vars:11,consts:[["type","file",3,"change"],["inputFile",""],[1,"uploadBox",3,"click"],["alt","",3,"src"],["nz-icon","","nzType","plus","nzTheme","outline",4,"ngIf"],["nzSimple","",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click",4,"ngIf"],["nz-icon","","nzType","plus","nzTheme","outline"],["nzSimple",""],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"main")(1,"label"),t._uU(2),t.qZA(),t.TgZ(3,"input",0,1),t.NdJ("change",function(a){return i.handleChangeFile(a)}),t.qZA(),t.TgZ(5,"div",2),t.NdJ("click",function(){t.CHM(r);const a=t.MAs(4);return!i.address&&a.click()}),t._UZ(6,"img",3),t.YNc(7,wi,1,0,"i",4),t.YNc(8,Pi,1,0,"nz-spin",5),t.YNc(9,Ai,1,0,"i",6),t.qZA()()}2&e&&(t.xp6(2),t.hij(" ",i.label," "),t.xp6(1),t.Udp("display","none"),t.xp6(2),t.ekj("uploaded",i.address),t.xp6(1),t.ekj("loading",i.loading),t.Q6J("src",i.imagePreview,t.LSH),t.xp6(1),t.Q6J("ngIf",!i.address&&!i.loading),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.address))},directives:[p.O5,M.w,N.Ls,Si],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.5rem;font-size:.8rem;color:#444}.uploadBox[_ngcontent-%COMP%]{border:3px dashed grey;border-radius:1rem;width:100%;cursor:pointer;height:8rem;display:flex;align-items:center;justify-content:center;position:relative}.uploadBox[_ngcontent-%COMP%]:hover{border-color:#000}.uploadBox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;height:7rem;left:50%;top:50%;transform:translate(-50%,-50%)}.uploadBox[_ngcontent-%COMP%]   img.loading[_ngcontent-%COMP%]{opacity:.5}.uploadBox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{border:1px solid grey;border-radius:50%;padding:.3rem;z-index:2;background-color:#fff;color:gray}.uploaded[_ngcontent-%COMP%]{border-color:green}"]}),n})();const et=["*"],Di=["inputElement"],ki=["nz-checkbox",""];let tt=(()=>{class n{constructor(e,i){this.nzOnChange=new t.vpe,this.checkboxList=[],e.addClass(i.nativeElement,"ant-checkbox-group")}addCheckbox(e){this.checkboxList.push(e)}removeCheckbox(e){this.checkboxList.splice(this.checkboxList.indexOf(e),1)}onChange(){const e=this.checkboxList.filter(i=>i.nzChecked).map(i=>i.nzValue);this.nzOnChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-checkbox-wrapper"]],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],ngContentSelectors:et,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),nt=(()=>{class n{constructor(e,i,r,s,a,c){this.ngZone=e,this.elementRef=i,this.nzCheckboxWrapperComponent=r,this.cdr=s,this.focusMonitor=a,this.directionality=c,this.dir="ltr",this.destroy$=new y.x,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new t.vpe,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null}innerCheckedChange(e){this.nzDisabled||(this.nzChecked=e,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(e){this.nzChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=e,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,g.R)(this.destroy$)).subscribe(e=>{e||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),this.directionality.change.pipe((0,g.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Q.R)(this.elementRef.nativeElement,"click").pipe((0,g.R)(this.destroy$)).subscribe(e=>{e.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),(0,Q.R)(this.inputElement.nativeElement,"click").pipe((0,g.R)(this.destroy$)).subscribe(e=>e.stopPropagation())})}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(tt,8),t.Y36(t.sBO),t.Y36(le.tE),t.Y36(f.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["","nz-checkbox",""]],viewQuery:function(e,i){if(1&e&&t.Gf(Di,7),2&e){let r;t.iGM(r=t.CRH())&&(i.inputElement=r.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:4,hostBindings:function(e,i){2&e&&t.ekj("ant-checkbox-wrapper-checked",i.nzChecked)("ant-checkbox-rtl","rtl"===i.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>n),multi:!0}])],attrs:ki,ngContentSelectors:et,decls:6,vars:11,consts:[[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"checked","ngModel","disabled","ngModelChange"],["inputElement",""],[1,"ant-checkbox-inner"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"span",0)(1,"input",1,2),t.NdJ("ngModelChange",function(s){return i.innerCheckedChange(s)}),t.qZA(),t._UZ(3,"span",3),t.qZA(),t.TgZ(4,"span"),t.Hsn(5),t.qZA()),2&e&&(t.ekj("ant-checkbox-checked",i.nzChecked&&!i.nzIndeterminate)("ant-checkbox-disabled",i.nzDisabled)("ant-checkbox-indeterminate",i.nzIndeterminate),t.xp6(1),t.Q6J("checked",i.nzChecked)("ngModel",i.nzChecked)("disabled",i.nzDisabled),t.uIk("autofocus",i.nzAutoFocus?"autofocus":null)("id",i.nzId))},directives:[l.Wl,l.JJ,l.On],encapsulation:2,changeDetection:0}),(0,C.gn)([(0,h.yF)()],n.prototype,"nzAutoFocus",void 0),(0,C.gn)([(0,h.yF)()],n.prototype,"nzDisabled",void 0),(0,C.gn)([(0,h.yF)()],n.prototype,"nzIndeterminate",void 0),(0,C.gn)([(0,h.yF)()],n.prototype,"nzChecked",void 0),n})(),it=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,l.u5,le.rt]]}),n})();function Ui(n,o){if(1&n&&t._UZ(0,"nz-option",18),2&n){const e=o.$implicit;t.Q6J("nzValue",e.company_id)("nzLabel",e.company_persian_name)}}function Ei(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"nz-form-item")(2,"nz-form-label",11),t._uU(3,"\u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc"),t.qZA(),t.TgZ(4,"nz-form-control")(5,"nz-select",12),t.YNc(6,Ui,1,2,"nz-option",13),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"nz-form-item")(9,"nz-form-label",11),t._uU(10,"\u0634\u0645\u0627\u0631\u0647 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc"),t.qZA(),t.TgZ(11,"nz-form-control"),t._UZ(12,"input",14),t.qZA()(),t.TgZ(13,"nz-form-item")(14,"nz-form-label",11),t._uU(15,"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc"),t.qZA(),t.TgZ(16,"nz-form-control"),t._UZ(17,"input",15),t.qZA()(),t.TgZ(18,"nz-form-item")(19,"nz-form-label",11),t._uU(20,"\u062a\u0627\u0631\u06cc\u062e \u0627\u062a\u0645\u0627\u0645 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc"),t.qZA(),t.TgZ(21,"nz-form-control"),t._UZ(22,"input",16),t.qZA()(),t.TgZ(23,"app-upload",17),t.NdJ("addressChange",function(r){return t.CHM(e),t.oxw().previous_policy_image=r}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("nzSpan",8),t.xp6(4),t.Q6J("ngForOf",t.lcZ(7,6,e.companies$)),t.xp6(3),t.Q6J("nzSpan",8),t.xp6(5),t.Q6J("nzSpan",8),t.xp6(5),t.Q6J("nzSpan",8),t.xp6(4),t.Q6J("address",e.previous_policy_image)}}let Zi=(()=>{class n{constructor(e,i){this.carFacade=e,this.carService=i,this.vehicle_card_front_image="",this.vehicle_card_back_image="",this.previous_policy_image="",this.companies$=this.carFacade.lookups$.pipe((0,w.U)(r=>r.insurance_companies)),this.vehicleId="",this.form=new l.cw({previous_insurance_company_id:new l.NI(""),previous_insurance_start_date:new l.NI(""),previous_insurance_end_date:new l.NI(""),hasPrevInsurance:new l.NI(!1)})}get hasPrevInsurance(){return this.form.value.hasPrevInsurance}ngOnInit(){this.carFacade.loadLookups(),this.carFacade.customerVehicle$.subscribe({next:e=>{this.vehicleId=e.id||""}})}submit(){this.carService.updateVehicle(this.vehicleId,{previous_insurance_company_id:this.form.value.previous_insurance_company_id,previous_insurance_start_date:this.form.value.previous_insurance_start_date,previous_insurance_end_date:this.form.value.previous_insurance_end_date,previous_policy_image:this.previous_policy_image,vehicle_card_back_image:this.vehicle_card_back_image,vehicle_card_front_image:this.vehicle_card_front_image}).subscribe({next:()=>{this.carFacade.nextFlow()},error:e=>{alert(e.message)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x),t.Y36(q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-car-doc"]],decls:18,vars:4,consts:[[1,"hint"],["nz-form","",3,"formGroup"],[1,"twoUploadBox"],["label","\u0627\u067e\u0644\u0648\u062f \u0639\u06a9\u0633 \u0631\u0648\u06cc \u06a9\u0627\u0631\u062a \u0645\u0627\u0634\u06cc\u0646 \u06cc\u0627 \u06a9\u0627\u0631\u062a \u0633\u0628\u0632",3,"address","addressChange"],["label","\u0627\u067e\u0644\u0648\u062f \u0639\u06a9\u0633 \u067e\u0634\u062a \u06a9\u0627\u0631\u062a \u0645\u0627\u0634\u06cc\u0646 \u06cc\u0627 \u06a9\u0627\u0631\u062a \u0633\u0628\u0632",3,"address","addressChange"],[1,"hasInsurance"],["nz-checkbox","","formControlName","hasPrevInsurance"],["class","hasInsurance__box",4,"ngIf"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzDanger",""],[1,"hasInsurance__box"],["nzFor","email",3,"nzSpan"],["formControlName","previous_insurance_company_id"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","formControlName","previous_insurance_company_number"],["nz-input","","formControlName","previous_insurance_start_date"],["nz-input","","formControlName","previous_insurance_end_date"],["label","\u0627\u067e\u0644\u0648\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc",3,"address","addressChange"],[3,"nzValue","nzLabel"]],template:function(e,i){1&e&&(t.TgZ(0,"main")(1,"h1"),t._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(3,"p",0),t._uU(4,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u062e\u0631\u06cc\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u062f\u0646\u0647 \u06a9\u0627\u0645\u0644 \u06a9\u0646\u06cc\u062f"),t.qZA(),t.TgZ(5,"form",1)(6,"div",2)(7,"app-upload",3),t.NdJ("addressChange",function(s){return i.vehicle_card_front_image=s}),t.qZA(),t.TgZ(8,"app-upload",4),t.NdJ("addressChange",function(s){return i.vehicle_card_back_image=s}),t.qZA()(),t.TgZ(9,"div",5)(10,"label",6),t._uU(11,"\u0642\u0628\u0644\u0627 \u0628\u06cc\u0645\u0647 \u0628\u062f\u0646\u0647 \u062f\u0627\u0634\u062a\u0645"),t.qZA(),t.YNc(12,Ei,24,8,"div",7),t.qZA()()(),t.TgZ(13,"footer")(14,"button",8),t.NdJ("click",function(){return i.submit()}),t._uU(15,"\u062b\u0628\u062a"),t.qZA(),t.TgZ(16,"button",9),t._uU(17,"\u0645\u0631\u062d\u0644\u0647 \u0642\u0628\u0644"),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("formGroup",i.form),t.xp6(2),t.Q6J("address",i.vehicle_card_front_image),t.xp6(1),t.Q6J("address",i.vehicle_card_back_image),t.xp6(4),t.Q6J("ngIf",i.hasPrevInsurance))},directives:[l._Y,l.JL,ee,l.sg,Mi,nt,l.JJ,l.u,p.O5,B,K,X,fe,he,v.Vq,p.sg,v.Ip,ue,l.Fj,I.ix,A.dQ,M.w],pipes:[p.Ov],styles:["main[_ngcontent-%COMP%]{padding:2rem}.twoUploadBox[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;gap:1rem}.hasInsurance[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:1rem;flex-direction:column}.hasInsurance[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:1rem}.hasInsurance__box[_ngcontent-%COMP%]{border:1px solid grey;padding:2rem;border-radius:1rem;display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;gap:1rem}"]}),n})();function Li(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("(",e.formatTime(),")")}}let $i=(()=>{class n{constructor(e){this.carFacade=e,this.timer=120,this.resendEnabled=new ce.X(!0)}ngOnInit(){this.carFacade.issueInsurance(),this.resendEnabled.subscribe({next:e=>{if(!e){this.timer=120;const i=setInterval(()=>{0===this.timer&&(this.resendEnabled.next(!0),clearInterval(i)),this.timer--},1e3)}}}),this.resendEnabled.next(!1)}handleResend(){this.resendEnabled.next(!1)}formatTime(){const e=Math.floor(this.timer/60),i=Math.floor(this.timer%60);return`${e<10?"0"+e:e}:${i<10?"0"+i:i}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-visit"]],decls:12,vars:6,consts:[[1,"hint"],["nz-button","","nzSize","small",3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"main")(1,"h1"),t._uU(2,"\u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(3,"p",0),t._uU(4,"\u0645\u0646\u062a\u0638\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u067e\u06cc\u0627\u0645\u06a9 \u0628\u0647 \u0634\u0645\u0627\u0631\u0647 \u06cc \u06f0\u06f9\u06f3\u06f5\u06f2\u06f5\u06f0\u06f5\u06f0\u06f4\u06f0 \u062c\u0647\u062a \u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648 \u0628\u0627\u0634\u06cc\u062f"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u067e\u0633 \u0627\u0632 \u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648 \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u062e\u062a \u062f\u0648\u0628\u0627\u0631\u0647 \u0628\u0647 \u0633\u0627\u06cc\u062a \u06a9\u0646\u0648\u0646\u06cc \u0628\u0627\u0632\u06af\u0631\u062f\u06cc\u062f"),t.qZA(),t.TgZ(7,"button",1),t.NdJ("click",function(){return i.handleResend()}),t.ALo(8,"async"),t._uU(9,"\u0627\u0631\u0633\u0627\u0644 \u0645\u062c\u062f\u062f \u067e\u06cc\u0627\u0645\u06a9 "),t.YNc(10,Li,2,1,"span",2),t.ALo(11,"async"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("disabled",!t.lcZ(8,2,i.resendEnabled)),t.xp6(3),t.Q6J("ngIf",!t.lcZ(11,4,i.resendEnabled)))},directives:[I.ix,A.dQ,M.w,p.O5],pipes:[p.Ov],styles:["main[_ngcontent-%COMP%]{padding:1rem 2rem}main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;font-size:.8rem}main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8rem}"]}),n})(),Ri=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-payment-factor"]],decls:53,vars:0,consts:[["nz-button",""]],template:function(e,i){1&e&&(t.TgZ(0,"section")(1,"header"),t._uU(2," \u0641\u0627\u06a9\u062a\u0648\u0631 \u067e\u0631\u062f\u0627\u062e\u062a "),t.qZA(),t.TgZ(3,"main")(4,"ul")(5,"li")(6,"span"),t._uU(7,"\u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"\u0633\u06cc\u0646\u0627"),t.qZA()(),t.TgZ(10,"li")(11,"span"),t._uU(12,"\u0648\u0633\u06cc\u0644\u0647 \u0646\u0642\u0644\u06cc\u0647"),t.qZA(),t.TgZ(13,"span"),t._uU(14,"\u067e\u0698\u0648 405"),t.qZA()(),t.TgZ(15,"li")(16,"span"),t._uU(17,"\u0633\u0627\u0644 \u0633\u0627\u062e\u062a"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"1399"),t.qZA()(),t.TgZ(20,"li")(21,"span"),t._uU(22,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"250 \u0645\u06cc\u0644\u06cc\u0648\u0646"),t.qZA()(),t.TgZ(25,"li")(26,"span"),t._uU(27,"\u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647 \u06af\u0631 \u0642\u0628\u0644\u06cc"),t.qZA(),t.TgZ(28,"span"),t._uU(29,"\u0627\u0644\u0628\u0631\u0632"),t.qZA()(),t.TgZ(30,"li")(31,"span"),t._uU(32,"\u067e\u0648\u0634\u0634 \u0647\u0627\u06cc \u0627\u0636\u0627\u0641\u06cc"),t.qZA(),t.TgZ(33,"span"),t._uU(34,"\u0646\u062f\u0627\u0631\u062f"),t.qZA()()(),t.TgZ(35,"ul")(36,"li")(37,"span"),t._uU(38,"\u0642\u06cc\u0645\u062a \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),t.qZA(),t.TgZ(39,"span"),t._uU(40,"800 \u0647\u0632\u0627\u0631 \u062a\u0648\u0645\u0627\u0646"),t.qZA()(),t.TgZ(41,"li")(42,"span"),t._uU(43,"\u062f\u0631\u0635\u062f \u062a\u062e\u0641\u06cc\u0641"),t.qZA(),t.TgZ(44,"span"),t._uU(45,"0 \u062a\u0648\u0645\u0627\u0646"),t.qZA()(),t.TgZ(46,"li")(47,"span"),t._uU(48,"\u0645\u0628\u0644\u063a \u06a9\u0644 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),t.qZA(),t.TgZ(49,"span"),t._uU(50,"800 \u0647\u0632\u0627\u0631 \u062a\u0648\u0645\u0627\u0646"),t.qZA()()(),t.TgZ(51,"button",0),t._uU(52," \u067e\u0631\u062f\u0627\u062e\u062a "),t.qZA()()())},directives:[I.ix,A.dQ,M.w],styles:["section[_ngcontent-%COMP%]{width:30rem;border-radius:1rem;padding:unset;margin:2rem auto;background-color:#fff}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0;padding:.5rem;background-color:#000;color:#fff}section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:unset;list-style:none;margin:unset;display:flex;flex-direction:column;margin-bottom:1rem;font-size:.8rem}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:first-child{border-bottom:1px solid black;padding-bottom:.5rem}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:first-child   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px dashed lightgrey}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;padding:.5rem 0;justify-content:space-between}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end}"]}),n})(),Vi=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-pending"]],decls:10,vars:0,consts:[[1,"paymentResultBox"],["nz-button",""]],template:function(e,i){1&e&&(t.TgZ(0,"section")(1,"h3"),t._uU(2,"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631 \u0635\u062f\u0648\u0631 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0634\u0645\u0627 \u062f\u0631 \u062d\u0627\u0644 \u0635\u062f\u0648\u0631 \u0645\u06cc\u0628\u0627\u0634\u062f \u0648 \u0637\u06cc 24 \u0633\u0627\u0639\u062a \u0627\u06cc\u0646\u062f\u0647 \u0635\u0627\u062f\u0631 \u0645\u06cc\u0634\u0648\u062f \u060c \u0644\u0637\u0641\u0627 \u0645\u0646\u062a\u0638\u0631 \u0628\u0645\u0627\u0646\u06cc\u062f"),t.qZA(),t.TgZ(5,"div",0)(6,"p"),t._uU(7,"\u067e\u0631\u062f\u0627\u062e\u062a \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"),t.qZA(),t.TgZ(8,"button",1),t._uU(9,"\u0627\u062f\u0627\u0645\u0647"),t.qZA()()())},directives:[I.ix,A.dQ,M.w],styles:["section[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column}section[_ngcontent-%COMP%]   .paymentResultBox[_ngcontent-%COMP%]{background-color:#e0e4fc;border-radius:1rem;padding:3rem 8rem;height:20rem;display:flex;flex-direction:column;margin:2rem auto;align-items:flex-start}section[_ngcontent-%COMP%]   .paymentResultBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4rem}section[_ngcontent-%COMP%]   .paymentResultBox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:center}"]}),n})(),Bi=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-insurance-issued"]],decls:20,vars:0,consts:[["nz-button",""]],template:function(e,i){1&e&&(t.TgZ(0,"section")(1,"h3"),t._uU(2,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0635\u0627\u062f\u0631 \u0634\u062f\u0647 "),t.qZA(),t.TgZ(3,"ul")(4,"li"),t._uU(5,"\u0646\u0627\u0645 \u0628\u06cc\u0645\u0647 \u06af\u0630\u0627\u0631 :\u200c\u0633\u06cc\u062f \u0645\u062d\u0645\u062f \u0642\u0627\u0636\u06cc"),t.qZA(),t.TgZ(6,"li"),t._uU(7,"\u062e\u0648\u062f\u0631\u0648 :\u200c\u062a\u06cc\u0628\u0627 \u06f2"),t.qZA(),t.TgZ(8,"li"),t._uU(9,"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 :\u200c\u06f1\u06f4\u06f0\u06f1/\u06f2/\u06f2\u06f9"),t.qZA(),t.TgZ(10,"li"),t._uU(11,"\u0645\u062f\u062a \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 :\u200c\u06cc\u06a9\u0633\u0627\u0644 "),t.qZA(),t.TgZ(12,"li"),t._uU(13,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648 : \u06f1\u06f6\u06f5\u06f0\u06f0\u06f0\u06f0\u06f0\u06f0"),t.qZA(),t.TgZ(14,"li"),t._uU(15,"\u0634\u0645\u0627\u0631\u0647 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 :\u200c\u06f4\u06f3\u06f2\u06f1\u06f4\u06f1\u06f2\u06f3\u06f2\u06f5"),t.qZA(),t.TgZ(16,"li"),t._uU(17,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648 : \u06f1\u06f6\u06f5\u06f0\u06f0\u06f0\u06f0\u06f0\u06f0"),t.qZA()(),t.TgZ(18,"button",0),t._uU(19,"\u062f\u0627\u0646\u0644\u0648\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),t.qZA()())},directives:[I.ix,A.dQ,M.w],styles:["section[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;gap:1rem;align-items:flex-start}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:unset;list-style:none;padding:unset}"]}),n})();function Gi(n,o){1&n&&t._UZ(0,"app-customer-info")}function qi(n,o){1&n&&t._UZ(0,"app-car-info")}function ji(n,o){1&n&&t._UZ(0,"app-upload-car-doc")}function Ji(n,o){1&n&&t._UZ(0,"app-car-visit")}function Yi(n,o){1&n&&t._UZ(0,"app-car-payment-factor")}function Hi(n,o){1&n&&t._UZ(0,"app-car-pending")}function Qi(n,o){1&n&&t._UZ(0,"app-car-insurance-issued")}let Wi=(()=>{class n{constructor(e){this.carFacade=e,this.steps=[{label:"\u0648\u0631\u0648\u062f",done:!0,id:4},{label:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648",done:!1,id:5},{label:"\u0627\u067e\u0644\u0648\u062f \u0645\u062f\u0627\u0631\u06a9",done:!1,id:6},{label:"\u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648",done:!1,id:7},{label:"\u067e\u0631\u062f\u0627\u062e\u062a",done:!1,id:8},{label:"\u0635\u062f\u0648\u0631 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647",done:!1,id:9}]}ngOnInit(){this.carFacade.loadLookups()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-flow-layout"]],decls:12,vars:11,consts:[[1,"content"],[3,"ngSwitch"],[3,"steps"],[4,"ngSwitchCase"]],template:function(e,i){1&e&&(t.TgZ(0,"main")(1,"div",0),t.ynx(2,1),t.ALo(3,"async"),t._UZ(4,"app-flow-navigation",2),t.YNc(5,Gi,1,0,"app-customer-info",3),t.YNc(6,qi,1,0,"app-car-info",3),t.YNc(7,ji,1,0,"app-upload-car-doc",3),t.YNc(8,Ji,1,0,"app-car-visit",3),t.YNc(9,Yi,1,0,"app-car-payment-factor",3),t.YNc(10,Hi,1,0,"app-car-pending",3),t.YNc(11,Qi,1,0,"app-car-insurance-issued",3),t.BQk(),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngSwitch",t.lcZ(3,9,i.carFacade.flowStep$)),t.xp6(2),t.Q6J("steps",i.steps),t.xp6(1),t.Q6J("ngSwitchCase",5),t.xp6(1),t.Q6J("ngSwitchCase",6),t.xp6(1),t.Q6J("ngSwitchCase",7),t.xp6(1),t.Q6J("ngSwitchCase",8),t.xp6(1),t.Q6J("ngSwitchCase",9),t.xp6(1),t.Q6J("ngSwitchCase",10),t.xp6(1),t.Q6J("ngSwitchCase",11))},directives:[p.RF,Fn,p.n9,ui,hi,Zi,$i,Ri,Vi,Bi],pipes:[p.Ov],styles:[".content[_ngcontent-%COMP%]{width:80%;background-color:#e5e5e5;border-radius:1rem;margin:3rem auto;display:flex;flex-direction:column}  footer{width:100%;background-color:#313133;padding:2rem;border-radius:0 0 1rem 1rem;display:flex;justify-content:flex-end;gap:1rem}"]}),n})();var Xi=u(3792);function Ki(n,o){if(1&n&&t._UZ(0,"nz-option",21),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}function eo(n,o){if(1&n&&t._UZ(0,"nz-option",21),2&n){const e=o.$implicit;t.Q6J("nzValue",e)("nzLabel",e)}}let to=(()=>{class n{constructor(e,i){this.carFacade=e,this.fb=i,this.vehicleForm=this.fb.group({brand:"",model:"",vehicleValue:"",basicDiscountYears:"",additionalCovs:this.fb.group({naturalDisaster:!1,glassBreak:!1,insteal:!1,splashPaint:!1,transportation:!1,priceFluctuation:!1})})}ngOnInit(){this.patchForm(),this.vehicleForm.controls.brand.valueChanges.subscribe(e=>this.carFacade.updateCustomerVehicle({brand:e}))}submitChanges(){this.carFacade.updateCustomerVehicle(this.vehicleForm.value),this.carFacade.inquiryPrice()}patchForm(){(0,ne.z)(this.carFacade.customerVehicle$).then(e=>{this.vehicleForm.patchValue(Object.assign({},e))})}numberInputFormat(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x),t.Y36(l.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-compare-head"]],decls:44,vars:11,consts:[[1,"container",3,"formGroup"],[1,"item",2,"flex-grow","4"],[1,"item-select"],[1,"item-select__item"],["dir","rtl","nzPlaceHolder","\u0628\u0631\u0646\u062f \u062e\u0648\u062f\u0631\u0648","nzSize","large","formControlName","brand"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","\u0633\u0627\u0628\u0642\u0647 \u0639\u062f\u0645 \u062e\u0633\u0627\u0631\u062a \u0628\u062f\u0646\u0647","dir","rtl","nzSize","small","formControlName","basicDiscountYears"],["dir","rtl","nzPlaceHolder","\u0645\u062f\u0644 \u062e\u0648\u062f\u0631\u0648","nzSize","large","formControlName","model"],["nzPlaceHolder","\u0633\u0627\u0628\u0642\u0647\u200c\u0639\u062f\u0645\u200c\u062e\u0633\u0627\u0631\u062a\u200c\u067e\u0648\u0634\u0634\u200c\u0647\u0627\u06cc\u200c\u0627\u0636\u0627\u0641\u06cc\u200c\u0628\u062f\u0646\u0647","dir","rtl",3,"nzDisabled"],[1,"submit",3,"click"],[1,"item",2,"flex-grow","1"],["formGroupName","additionalCovs",2,"width","100%"],["nz-row",""],["nz-col","","nzSpan","8"],["nz-checkbox","","formControlName","naturalDisaster"],["nz-checkbox","","formControlName","glassBreak"],["nz-checkbox","","formControlName","insteal"],["nz-checkbox","","formControlName","splashPaint"],["nz-checkbox","","formControlName","transportation"],["nz-checkbox","","formControlName","priceFluctuation"],["nzPlaceHolder","\u0645\u0628\u0644\u063a \u067e\u0648\u0634\u0634 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f","formControlName","vehicleValue",3,"nzFormatter","nzMin","nzStep"],[3,"nzValue","nzLabel"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"h2"),t._uU(3,"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0642\u06cc\u0645\u062a"),t.qZA(),t.TgZ(4,"div",2)(5,"div",3)(6,"nz-select",4),t.YNc(7,Ki,1,2,"nz-option",5),t.ALo(8,"async"),t.qZA(),t._UZ(9,"nz-input-number",6),t.qZA(),t.TgZ(10,"div",3)(11,"nz-select",7),t.YNc(12,eo,1,2,"nz-option",5),t.ALo(13,"async"),t.qZA(),t._UZ(14,"nz-input-number",8),t.qZA()(),t.TgZ(15,"button",9),t.NdJ("click",function(){return i.submitChanges()}),t._uU(16,"\u0627\u0639\u0645\u0627\u0644 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"),t.qZA()(),t.TgZ(17,"div",10)(18,"h2"),t._uU(19,"\u067e\u0648\u0634\u0634 \u0647\u0627\u06cc \u062a\u06a9\u0645\u06cc\u0644\u06cc"),t.qZA(),t.TgZ(20,"nz-checkbox-wrapper",11)(21,"div",12)(22,"div",13)(23,"label",14),t._uU(24,"\u0628\u0644\u0627\u06cc\u0627\u06cc \u0637\u0628\u06cc\u0639\u06cc"),t.qZA()(),t.TgZ(25,"div",13)(26,"label",15),t._uU(27,"\u0634\u06a9\u0633\u062a\u0646 \u0634\u06cc\u0634\u0647"),t.qZA()(),t.TgZ(28,"div",13)(29,"label",16),t._uU(30,"\u0633\u0631\u0642\u062a \u062f\u0631\u062c\u0627"),t.qZA()(),t.TgZ(31,"div",13)(32,"label",17),t._uU(33,"\u067e\u0627\u0634\u06cc\u062f\u0646 \u0631\u0646\u06af"),t.qZA()(),t.TgZ(34,"div",13)(35,"label",18),t._uU(36,"\u062d\u0645\u0644 \u0648 \u0646\u0642\u0644"),t.qZA()(),t.TgZ(37,"div",13)(38,"label",19),t._uU(39,"\u0646\u0648\u0633\u0627\u0646 \u0642\u06cc\u0645\u062a"),t.qZA()()()()(),t.TgZ(40,"div",1)(41,"h2"),t._uU(42,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648 (\u062a\u0648\u0645\u0627\u0646)"),t.qZA(),t._UZ(43,"nz-input-number",20),t.qZA()()),2&e&&(t.Q6J("formGroup",i.vehicleForm),t.xp6(7),t.Q6J("ngForOf",t.lcZ(8,7,i.carFacade.vehicleBrands$)),t.xp6(5),t.Q6J("ngForOf",t.lcZ(13,9,i.carFacade.vehicleModels$)),t.xp6(2),t.Q6J("nzDisabled",!0),t.xp6(29),t.Q6J("nzFormatter",i.numberInputFormat)("nzMin",1e7)("nzStep",1e7))},directives:[l._Y,l.JL,l.sg,v.Vq,f.Lv,l.JJ,l.u,p.sg,v.Ip,Re,tt,l.x0,B,X,nt],pipes:[p.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-align:center;padding:2rem 0;width:90%;margin:auto;gap:8px}.container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border:2px solid #d8d8d8;padding:1rem 0;border-radius:10px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-weight:1rem}.container[_ngcontent-%COMP%]   .item-select[_ngcontent-%COMP%]{width:90%;display:grid;grid-template-columns:1fr 1fr;margin:auto}.container[_ngcontent-%COMP%]   .item-select[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:85%;margin:auto;display:block}.container[_ngcontent-%COMP%]   .item-select[_ngcontent-%COMP%]   nz-input-number[_ngcontent-%COMP%]{width:85%;text-align:center;margin-top:.5rem;font-size:.7rem}.container[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{color:#fff;padding:1.2rem 2rem;margin:auto;display:inline-block;background-color:#1d2130;margin-top:.7rem;cursor:pointer;border-radius:.7rem}.container[_ngcontent-%COMP%]   nz-checkbox-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:right;padding:0 2rem}.container[_ngcontent-%COMP%]   nz-checkbox-wrapper[_ngcontent-%COMP%]   [nz-row][_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   nz-checkbox-wrapper[_ngcontent-%COMP%]   [nz-col][_ngcontent-%COMP%]{padding:3px 0;max-width:100%}.container[_ngcontent-%COMP%]   nz-input-number[_ngcontent-%COMP%]{width:80%;margin-top:1rem;padding:.5rem 1rem;font-family:inherit;font-size:1.1rem}"]}),n})();function no(n,o){1&n&&(t.TgZ(0,"li",5)(1,"div"),t._UZ(2,"app-icon",6),t._uU(3," \u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a \u0622\u0646\u0644\u0627\u06cc\u0646 "),t.qZA()())}let io=(()=>{class n{constructor(){this.price=0,this.props=[],this.inquiryId="",this.onPurchase=new t.vpe}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comparison-item"]],inputs:{price:"price",company:"company",props:"props",inquiryId:"inquiryId"},outputs:{onPurchase:"onPurchase"},decls:35,vars:9,consts:[[1,"collapsible"],[1,"icon-container"],["src","call",3,"size"],[1,"header__title--container"],[1,"company-point"],[1,"company-point__item"],["src","check"],["class","company-point__item",4,"ngIf"],[1,"zemanat"],["appButton","",1,"submitBtn",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"article",0)(1,"header")(2,"div",1),t._UZ(3,"app-icon",2),t.qZA(),t.TgZ(4,"div",3)(5,"h5"),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()()(),t.TgZ(10,"main")(11,"ul",4)(12,"li",5)(13,"div"),t._UZ(14,"app-icon",6),t._uU(15," \u0634\u0639\u0628 \u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a "),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA()(),t.TgZ(18,"li",5)(19,"div"),t._UZ(20,"app-icon",6),t._uU(21," \u0631\u0636\u0627\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 "),t.qZA(),t.TgZ(22,"p"),t._uU(23),t.qZA()(),t.TgZ(24,"li",5)(25,"div"),t._UZ(26,"app-icon",6),t._uU(27," \u062a\u0648\u0627\u0646\u06af\u0631\u06cc \u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647 "),t.qZA(),t.TgZ(28,"p"),t._uU(29),t.qZA()(),t.YNc(30,no,4,0,"li",7),t.qZA(),t.TgZ(31,"p",8),t._uU(32," \u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a \u0633\u0631\u06cc\u0639 \u062f\u0631 \u0627\u06cc\u0646 \u0637\u0631\u062d \u062a\u0648\u0633\u0637 \u06a9\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u0645\u0627 \u062a\u0636\u0645\u06cc\u0646 \u0634\u062f\u0647 \u0627\u0633\u062a "),t.qZA(),t.TgZ(33,"button",9),t.NdJ("click",function(){return i.onPurchase.emit(i.inquiryId)}),t._uU(34," \u0633\u0641\u0627\u0631\u0634 "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("size",0),t.xp6(3),t.hij("",t.lcZ(7,7,i.price)," \u062a\u0648\u0645\u0627\u0646"),t.xp6(3),t.Oqu(i.company.company_persian_name),t.xp6(8),t.hij("",i.company.branchs_count," \u0634\u0639\u0628\u0647"),t.xp6(6),t.hij("",i.company.users_score," \u0627\u0632 5"),t.xp6(6),t.hij("",i.company.payment_capability," \u0627\u0632 5"),t.xp6(1),t.Q6J("ngIf",i.company.online_claim_payment))},directives:[H.o,p.O5,Y.H],pipes:[p.JJ],styles:["article[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:center;border-radius:1rem}article[_ngcontent-%COMP%]   .company-point[_ngcontent-%COMP%]{padding:unset;list-style:none;display:flex;flex-direction:column;gap:1rem;align-self:flex-start;margin:1rem 0 2rem;align-items:flex-start}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{gap:.8rem;display:flex}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-right:2rem;text-align:right;padding:2px;opacity:.7}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{background:#d5f5ea;fill:#000;border-radius:50%;width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center}article[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;padding:1rem;width:100%;border-bottom:1px solid #d8d8d8;align-items:center}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{grid-row:1/3;color:red}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]     svg{fill:#000}.header__title--container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header__title--container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:unset}.header__title--container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;color:#1d2130;font-size:.8rem}.collapsible[_ngcontent-%COMP%]{transition:all .2s ease;padding-bottom:2rem}.collapsible[_ngcontent-%COMP%]:hover{background:linear-gradient(175.67deg,#d7e7f9 13.12%,#d5f4ec 96.48%);border:4px solid #6b7cff}.collapsible[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]{max-height:max-content}.content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .2s ease}.submitBtn[_ngcontent-%COMP%]{min-width:7rem;transition:all .3s ease-in-out}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#e6e6e6;padding:.5rem;width:2.5rem;height:2.5rem;border-radius:50%;grid-row:1/3}.zemanat[_ngcontent-%COMP%]{text-align:center;width:80%;color:#1d2130;font-size:.8rem}.discount[_ngcontent-%COMP%]{transition:all .3s ease-in-out;display:flex;flex-direction:column;align-items:center;font-size:.75rem}.discount[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}"]}),n})();function oo(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-comparison-item",3),t.NdJ("onPurchase",function(r){return t.CHM(e),t.oxw(2).purchase(r)}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("company",e.company)("price",e.price)("inquiryId",e.id)}}function ro(n,o){if(1&n&&(t.ynx(0),t.YNc(1,oo,1,3,"app-comparison-item",2),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.company)}}const lo=[{path:"",component:Tn},{path:"compare",component:(()=>{class n{constructor(e,i,r){this.route=e,this.carFacade=i,this.authFacade=r}ngOnInit(){this.carFacade.loadVehicles(),this.carFacade.inquiryPrice(),this.carFacade.loadLookups(),this.updateStoreWithParams(),this.carFacade.setFlow(P.CAR_COMPARE_INSURANCES)}purchase(e){var i=this;return te(function*(){(yield(0,ne.z)(i.authFacade.isUserLogin$))?i.carFacade.selectInsurance(e):i.authFacade.setModalVisible(!0)})()}updateStoreWithParams(){const e=JSON.parse(this.route.snapshot.queryParams.vehicle);this.carFacade.updateCustomerVehicle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($.gz),t.Y36(x),t.Y36(Xi.j))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-compare"]],decls:4,vars:3,consts:[[1,"comparison-cards"],[4,"ngFor","ngForOf"],[3,"company","price","inquiryId","onPurchase",4,"ngIf"],[3,"company","price","inquiryId","onPurchase"]],template:function(e,i){1&e&&(t._UZ(0,"app-compare-head"),t.TgZ(1,"section",0),t.YNc(2,ro,2,1,"ng-container",1),t.ALo(3,"async"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,i.carFacade.compareItems$)))},directives:[to,p.sg,p.O5,io],pipes:[p.Ov],styles:[".comparison-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:2rem;gap:2rem;width:90%;margin:2rem auto}"]}),n})()},{path:"final-steps",component:Wi,canActivate:[kt.a,(()=>{class n{constructor(e,i){this.carFacade=e,this.router=i}canActivate(e,i){var r=this;return te(function*(){return yield(0,ne.z)(r.carFacade.flowStep$),!0})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x),t.LFG($.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}];let co=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[$.Bz.forChild(lo)],$.Bz]}),n})(),So=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,N.PV,S.T]]}),n})(),Fr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,l.u5,V.ud,Je,So,He.YI,N.PV,I.sL]]}),n})(),Or=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.vT,p.ez,A.vG,N.PV,S.T]]}),n})(),qr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,S.T],f.vT]}),n})(),jr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,co,m.Aw.forFeature(ke),_.sQ.forFeature([Dt]),oe.JF,st.m,l.u5,v.LV,l.UX,En,ai,I.sL,Fr,N.PV,Oi,it,Or,f.vT,gn,l.u5,it,qr]]}),n})()}}]);