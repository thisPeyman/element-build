"use strict";(self.webpackChunkelementApp=self.webpackChunkelementApp||[]).push([[969],{5969:(Go,ne,l)=>{l.r(ne),l.d(ne,{CarModule:()=>Qo});var u=l(9808),H=l(520),s=l(2382),f=l(4394),be=l(5620),T=l(6042),F=l(6376),h=l(6443),Te=l(4466),Fe=l(9606),Ne=l(4116),Se=l(4825),Me=l(4177),ie=l(8706),Oe=l(5202),Ie=l(1986),we=l(4711),ke=Object.prototype.hasOwnProperty;var De=l(1754);var L=l(9300),I=l(3900),w=l(4004),$=l(8505),Re=l(262),Ve=l(9646),R=l(7595),y=l(8647),e=l(5e3),oe=l(2340);let V=(()=>{class n{constructor(t){this.http=t,this.apiUrl=`${oe.N.apiUrl}/policies/vehicle-hull`}getVehiclesKind(){return this.http.get(`${this.apiUrl}/vehicle-kinds`)}priceInquiry(t){return this.http.post(`${this.apiUrl}/price-inquiry/`,t)}getLookups(){return this.http.get(`${this.apiUrl}/lookups`)}addCustomer(t){return this.http.post(`${this.apiUrl}/customer/add/`,t)}addForUser(){return this.http.post(`${this.apiUrl}/customer/addforuser/`,{})}addVehicle(t){return this.http.post(`${this.apiUrl}/vehicle/add/`,t)}updateVehicle(t,i){return this.http.put(`${this.apiUrl}/vehicle/${t}/edit/`,i)}insuranceIssue(t,i,r){return this.http.post(`${this.apiUrl}/issue/`,{customerId:t,vehicleId:i,inquiryId:r})}addCoverages(t,i){return this.http.put(`${this.apiUrl}/price-inquiry/add-coverages/`,{inquiryId:t,coverages:i})}getMyPolicies(){return this.http.get(`${this.apiUrl}/my-policies/`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(H.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=l(1811),Z=l(1545),qe=l(7429),P=l(7579),Je=l(5698),z=l(2722),q=l(8038),C=l(1721),Be=l(8076),k=l(969),je=l(4090),re=l(9776),m=l(226);function Qe(n,o){1&n&&e._UZ(0,"i",10)}function Ge(n,o){1&n&&e._UZ(0,"i",11)}function Ye(n,o){1&n&&e._UZ(0,"i",12)}function He(n,o){1&n&&e._UZ(0,"i",13)}function We(n,o){1&n&&e._UZ(0,"i",14)}function Xe(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"span",15),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",t.instance.content,e.oJD)}}function Ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nz-message",2),e.NdJ("destroyed",function(r){return e.CHM(t),e.oxw().remove(r.id,r.userAction)}),e.qZA()}2&n&&e.Q6J("instance",o.$implicit)}let et=0,nt=(()=>{class n{constructor(t,i){this.cdr=t,this.nzConfigService=i,this.instances=[],this.destroy$=new P.x,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(t){const i=this.onCreate(t);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,i],this.readyInstances(),i}remove(t,i=!1){this.instances.some((r,a)=>r.messageId===t&&(this.instances.splice(a,1),this.instances=[...this.instances],this.onRemove(r,i),this.readyInstances(),!0))}removeAll(){this.instances.forEach(t=>this.onRemove(t,!1)),this.instances=[],this.readyInstances()}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new P.x,t}onRemove(t,i){t.onClose.next(i),t.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(t){const{nzDuration:i,nzAnimate:r,nzPauseOnHover:a}=this.config;return Object.assign({nzDuration:i,nzAnimate:r,nzPauseOnHover:a},t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(q.jY))},n.\u0275dir=e.lG2({type:n}),n})(),it=(()=>{class n{constructor(t){this.cdr=t,this.destroyed=new e.vpe,this.animationStateChanged=new P.x,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,L.h)(t=>"done"===t.phaseName&&"leave"===t.toState),(0,Je.q)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(t=!1){this.userAction=t,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:t})},200)):this.destroyed.next({id:this.instance.messageId,userAction:t})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n}),n})(),ot=(()=>{class n extends it{constructor(t){super(t),this.destroyed=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[e.qOj],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("@moveUpMotion.done",function(a){return i.animationStateChanged.next(a)})("mouseenter",function(){return i.onEnter()})("mouseleave",function(){return i.onLeave()}),e.TgZ(1,"div",1)(2,"div",2),e.ynx(3,3),e.YNc(4,Qe,1,0,"i",4),e.YNc(5,Ge,1,0,"i",5),e.YNc(6,Ye,1,0,"i",6),e.YNc(7,He,1,0,"i",7),e.YNc(8,We,1,0,"i",8),e.BQk(),e.YNc(9,Xe,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.Q6J("@moveUpMotion",i.instance.state),e.xp6(2),e.Q6J("ngClass","ant-message-"+i.instance.type),e.xp6(1),e.Q6J("ngSwitch",i.instance.type),e.xp6(1),e.Q6J("ngSwitchCase","success"),e.xp6(1),e.Q6J("ngSwitchCase","info"),e.xp6(1),e.Q6J("ngSwitchCase","warning"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("nzStringTemplateOutlet",i.instance.content))},directives:[u.mk,u.RF,u.n9,F.Ls,k.f],encapsulation:2,data:{animation:[Be.YK]},changeDetection:0}),n})();const J="message",rt={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let at=(()=>{class n extends nt{constructor(t,i){super(t,i),this.dir="ltr";const r=this.nzConfigService.getConfigForComponent(J);this.dir=(null==r?void 0:r.nzDirection)||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(J).pipe((0,z.R)(this.destroy$)).subscribe(()=>{this.updateConfig();const t=this.nzConfigService.getConfigForComponent(J);if(t){const{nzDirection:i}=t;this.dir=i||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},rt),this.config),this.nzConfigService.getConfigForComponent(J)),this.top=(0,C.WX)(this.config.nzTop),this.cdr.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(q.jY))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[e.qOj],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ke,1,1,"nz-message",1),e.qZA()),2&t&&(e.Udp("top",i.top),e.ekj("ant-message-rtl","rtl"===i.dir),e.xp6(1),e.Q6J("ngForOf",i.instances))},directives:[ot,u.sg],encapsulation:2,changeDetection:0}),n})(),ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),se=(()=>{class n extends class tt{constructor(o,t,i){this.nzSingletonService=o,this.overlay=t,this.injector=i}remove(o){this.container&&(o?this.container.remove(o):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${et++}`}withContainer(o){let t=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(t)return t;const i=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),r=new qe.C5(o,null,this.injector),a=i.attach(r);return i.overlayElement.style.zIndex="1010",t||(this.container=t=a.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,t)),t}}{constructor(t,i,r){super(t,i,r),this.componentPrefix="message-"}success(t,i){return this.createInstance({type:"success",content:t},i)}error(t,i){return this.createInstance({type:"error",content:t},i)}info(t,i){return this.createInstance({type:"info",content:t},i)}warning(t,i){return this.createInstance({type:"warning",content:t},i)}loading(t,i){return this.createInstance({type:"loading",content:t},i)}create(t,i,r){return this.createInstance({type:t,content:i},r)}createInstance(t,i){return this.container=this.withContainer(at),this.container.create(Object.assign(Object.assign({},t),{createdAt:new Date,messageId:this.getInstanceId(),options:i}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(je.KV),e.LFG(re.aV),e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:ae}),n})(),st=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.vT,u.ez,re.U8,F.PV,k.T,ae]]}),n})();var le=l(3792);let lt=(()=>{class n{constructor(t,i,r,a,c,d){this.actions$=t,this.carInsuranceService=i,this.carFacade=r,this.router=a,this.message=c,this.authFacade=d,this.loadLookups=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(y.cc),(0,f.IC)(()=>this.carFacade.lookups$),(0,L.h)(([,p])=>function Ae(n){if(null==n)return!0;if((0,ie.Z)(n)&&((0,Me.Z)(n)||"string"==typeof n||"function"==typeof n.splice||(0,Oe.Z)(n)||(0,we.Z)(n)||(0,Se.Z)(n)))return!n.length;var o=(0,Ne.Z)(n);if("[object Map]"==o||"[object Set]"==o)return!n.size;if((0,Ie.Z)(n))return!(0,Fe.Z)(n).length;for(var t in n)if(ke.call(n,t))return!1;return!0}(p)),(0,I.w)(()=>this.carInsuranceService.getLookups().pipe((0,w.U)(p=>y.U9({lookups:p.data})))))),this.handleFlows=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(y.tr),(0,f.IC)(()=>[this.carFacade.flowStep$,this.carFacade.customerVehicle$]),(0,$.b)(([,p,g])=>{switch(p){case R.z.CAR_COMPARE_INSURANCES:this.router.navigate(["/quote/car/compare"],{queryParams:{vehicle:JSON.stringify(g)}});break;case R.z.CUSTOMER_INFO:this.router.navigateByUrl("/quote/car/final-steps")}})),{dispatch:!1}),this.priceInquiry=(0,f.GW)(()=>this.actions$.pipe((0,$.b)(()=>y.DS()),(0,f.l4)(y._m),(0,f.IC)(()=>this.carFacade.inquiryPriceBody$),(0,L.h)(([,p])=>!function Le(n,o){return(0,De.Z)(n,o)}(p,this.inquiryPriceBodySave)),(0,$.b)(()=>this.carFacade.setLoadingAsTrue()),(0,I.w)(([,p])=>this.carInsuranceService.priceInquiry(p).pipe((0,w.U)(g=>(this.inquiryPriceBodySave=p,y.WZ({insuranceOptions:g.data}))),(0,Re.K)(g=>(this.message.error(g.status>=400?"\u0645\u0634\u06a9\u0644 \u062f\u0631 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0647\u0627\u06cc \u0627\u0631\u0633\u0627\u0644\u06cc":"\u062e\u0637\u0627\u06cc \u062f\u0627\u062e\u0644\u06cc \u0633\u0631\u0648\u0631"),(0,Ve.of)(y._Z({message:g.message})))))))),this.issueInsurance=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(y.jt),(0,f.IC)(()=>this.carFacade.customerVehicle$),(0,I.w)(([,{id:p,inquiryId:g,customer:D}])=>this.carInsuranceService.insuranceIssue(D,p,g).pipe((0,w.U)(()=>y.OB()))))),this.selectInsurance=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(y.qs),(0,$.b)(p=>{this.authFacade.setModalVisible(!p.isLoggedIn),this.authFacade.setCarInsuranceOrder(p.inquiryId)}),(0,L.h)(p=>p.isLoggedIn),(0,f.IC)(()=>this.carFacade.selectedCoverages$),(0,I.w)(([{inquiryId:p},g])=>this.carInsuranceService.addCoverages(p,g).pipe((0,w.U)(()=>(this.carFacade.updateCustomerVehicle({inquiryId:p}),this.carFacade.nextFlow(),y.I4()))))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.eX),e.LFG(V),e.LFG(_.j),e.LFG(Z.F0),e.LFG(se),e.LFG(le.j))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var ct=l(9848),ut=l(3623);const pt=["*"];let dt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main"]],ngContentSelectors:pt,decls:8,vars:0,consts:[["src","assets/images/car-crash.svg",1,"formImage"],[1,"content-container"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"section")(1,"h1"),e._uU(2,"\u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0628\u06cc\u0645\u0647 \u0628\u062f\u0646\u0647"),e.qZA(),e.TgZ(3,"main")(4,"div"),e._UZ(5,"img",0),e.qZA(),e.TgZ(6,"div",1),e.Hsn(7),e.qZA()()())},styles:["section[_ngcontent-%COMP%]{margin:2rem auto;width:58%}h1[_ngcontent-%COMP%]{color:#6b7cff;font-size:1rem;margin-bottom:2rem}main[_ngcontent-%COMP%]{border:1px solid #d8d8d8;padding:2rem;border-radius:1rem;display:grid;grid-template-columns:1fr 2fr;grid-gap:2rem;gap:2rem}main[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.formImage[_ngcontent-%COMP%]{width:100%}"]}),n})();var B=l(4604),j=l(815);function mt(n,o){if(1&n&&e._UZ(0,"nz-option",7),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}function ft(n,o){if(1&n&&e._UZ(0,"nz-option",7),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}let gt=(()=>{class n{constructor(t){this.carFacade=t,this.vehicleForm=new s.cw({brand:new s.NI("",s.kI.required),model:new s.NI("",s.kI.required)}),this.vehicleBrands$=this.carFacade.vehicleBrands$,this.vehicleModels$=this.carFacade.vehicleModels$}ngOnInit(){this.syncFormWithStore()}syncFormWithStore(){this.vehicleForm.valueChanges.subscribe(t=>{this.carFacade.updateCustomerVehicle(t)})}submit(){this.vehicleForm.invalid||this.carFacade.nextFlow()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-model"]],decls:16,vars:8,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"select-container"],["dir","rtl","nzShowSearch","","formControlName","brand"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["dir","rtl","formControlName","model"],["appButton","","type","submit"],["src","left-play",3,"size"],[3,"nzValue","nzLabel"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(1,"div",1)(2,"p"),e._uU(3,"\u0628\u0631\u0646\u062f \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(4,"nz-select",2),e.YNc(5,mt,1,2,"nz-option",3),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"div",1)(8,"p"),e._uU(9,"\u0645\u062f\u0644 \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(10,"nz-select",4),e.YNc(11,ft,1,2,"nz-option",3),e.ALo(12,"async"),e.qZA()(),e.TgZ(13,"button",5),e._uU(14," \u0645\u0631\u062d\u0644\u0647 \u0628\u0639\u062f "),e._UZ(15,"app-icon",6),e.qZA()()),2&t&&(e.Q6J("formGroup",i.vehicleForm),e.xp6(5),e.Q6J("ngForOf",e.lcZ(6,4,i.vehicleBrands$)),e.xp6(6),e.Q6J("ngForOf",e.lcZ(12,6,i.vehicleModels$)),e.xp6(4),e.Q6J("size",0))},directives:[s._Y,s.JL,s.sg,h.Vq,m.Lv,s.JJ,s.u,u.sg,h.Ip,B.H,j.o],pipes:[u.Ov],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:flex-start}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;margin-bottom:auto}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:end;display:flex;align-items:center;gap:.5rem}.form[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),n})();var ht=Math.ceil,_t=Math.max;var vt=l(3093),yt=l(6667),W=l(1999);var Tt=/\s/;var St=/^\s+/;const Ot=function Mt(n){return n&&n.slice(0,function Ft(n){for(var o=n.length;o--&&Tt.test(n.charAt(o)););return o}(n)+1).replace(St,"")};var It=l(6460),wt=/^[-+]0x[0-9a-f]+$/i,Pt=/^0b[01]+$/i,Ut=/^0o[0-7]+$/i,Zt=parseInt;const X=function Dt(n){return n?1/0===(n=function kt(n){if("number"==typeof n)return n;if((0,It.Z)(n))return NaN;if((0,W.Z)(n)){var o="function"==typeof n.valueOf?n.valueOf():n;n=(0,W.Z)(o)?o+"":o}if("string"!=typeof n)return 0===n?n:+n;n=Ot(n);var t=Pt.test(n);return t||Ut.test(n)?Zt(n.slice(2),t?2:8):wt.test(n)?NaN:+n}(n))||-1/0===n?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0},pe=function Lt(n){return function(o,t,i){return i&&"number"!=typeof i&&function xt(n,o,t){if(!(0,W.Z)(t))return!1;var i=typeof o;return!!("number"==i?(0,ie.Z)(t)&&(0,yt.Z)(o,t.length):"string"==i&&o in t)&&(0,vt.Z)(t[o],n)}(o,t,i)&&(t=i=void 0),o=X(o),void 0===t?(t=o,o=0):t=X(t),function Ct(n,o,t,i){for(var r=-1,a=_t(ht((o-n)/(t||1)),0),c=Array(a);a--;)c[i?a:++r]=n,n+=t;return c}(o,t,i=void 0===i?o<t?1:-1:X(i),n)}}();function Rt(n,o){if(1&n&&e._UZ(0,"nz-option",9),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}let Vt=(()=>{class n{constructor(t){this.carFacade=t,this.yearOptions=pe(1350,1402).reverse(),this.vehicleForm=new s.cw({builtYear:new s.NI("",s.kI.required),usage:new s.NI("",s.kI.required)})}ngOnInit(){}submit(){this.vehicleForm.invalid||(this.carFacade.updateCustomerVehicle(this.vehicleForm.value),this.carFacade.nextFlow())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-usage"]],decls:15,vars:3,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"select-container"],["dir","rtl","formControlName","usage"],["nzLabel","\u062a\u0627\u06a9\u0633\u06cc \u062f\u0631\u0648\u0646 \u0634\u0647\u0631\u06cc","nzValue","test"],["nzLabel","\u0634\u062e\u0635\u06cc","nzValue","test 2"],["dir","rtl","formControlName","builtYear"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["appButton","","type","submit"],["src","left-play",3,"size"],[3,"nzValue","nzLabel"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(1,"div",1)(2,"p"),e._uU(3,"\u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(4,"nz-select",2),e._UZ(5,"nz-option",3)(6,"nz-option",4),e.qZA()(),e.TgZ(7,"div",1)(8,"p"),e._uU(9,"\u0633\u0627\u0644 \u0633\u0627\u062e\u062a \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(10,"nz-select",5),e.YNc(11,Rt,1,2,"nz-option",6),e.qZA()(),e.TgZ(12,"button",7),e._uU(13," \u0645\u0631\u062d\u0644\u0647 \u0628\u0639\u062f "),e._UZ(14,"app-icon",8),e.qZA()()),2&t&&(e.Q6J("formGroup",i.vehicleForm),e.xp6(11),e.Q6J("ngForOf",i.yearOptions),e.xp6(3),e.Q6J("size",0))},directives:[s._Y,s.JL,s.sg,h.Vq,m.Lv,s.JJ,s.u,h.Ip,u.sg,B.H,j.o],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:flex-start}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;margin-bottom:auto}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:end;display:flex;align-items:center;gap:.5rem}.form[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),n})();var U=l(1047);function qt(n,o){if(1&n&&e._UZ(0,"nz-option",8),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}let Jt=(()=>{class n{constructor(t){this.carFacade=t,this.discountYears=pe(0,5),this.vehicleForm=new s.cw({vehicleValue:new s.NI("",s.kI.required),basicDiscountYears:new s.NI("",s.kI.required)}),this.value=""}ngOnInit(){}numberInputFormat(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}submit(){this.vehicleForm.invalid||(this.carFacade.updateCustomerVehicle(Object.assign(Object.assign({},this.vehicleForm.value),{vehicleValue:+this.vehicleForm.value.vehicleValue.replace(/,/g,"")})),this.carFacade.nextFlow())}CommaFormatted(t){var i,r;if(t.which>=37&&t.which<=40)return;let a=null===(i=this.vehicleForm.get("vehicleValue"))||void 0===i?void 0:i.value;a&&(null===(r=this.vehicleForm.get("vehicleValue"))||void 0===r||r.setValue(a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")))}numberCheck(t){return!("e"===t.key||"+"===t.key||"-"===t.key)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-price"]],decls:14,vars:4,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"select-container"],["type","text","nz-input","","name","product_price","formControlName","vehicleValue","autocomplete","off",3,"keydown","keyup"],["dir","rtl","formControlName","basicDiscountYears"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzLabel","\u0628\u06cc\u0634\u062a\u0631",3,"nzValue"],["appButton","","type","submit"],["src","left-play",3,"size"],[3,"nzValue","nzLabel"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(1,"div",1)(2,"p"),e._uU(3,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648 (\u062a\u0648\u0645\u0627\u0646)"),e.qZA(),e.TgZ(4,"input",2),e.NdJ("keydown",function(a){return i.numberCheck(a)})("keyup",function(a){return i.CommaFormatted(a)}),e.qZA()(),e.TgZ(5,"div",1)(6,"p"),e._uU(7,"\u0633\u0627\u0628\u0642\u0647 \u062a\u062e\u0641\u06cc\u0641 \u0628\u06cc\u0645\u0647 \u0628\u062f\u0646\u0647 \u0628\u0647 \u0633\u0627\u0644"),e.qZA(),e.TgZ(8,"nz-select",3),e.YNc(9,qt,1,2,"nz-option",4),e._UZ(10,"nz-option",5),e.qZA()(),e.TgZ(11,"button",6),e._uU(12," \u0645\u0631\u062d\u0644\u0647 \u0628\u0639\u062f "),e._UZ(13,"app-icon",7),e.qZA()()),2&t&&(e.Q6J("formGroup",i.vehicleForm),e.xp6(9),e.Q6J("ngForOf",i.discountYears),e.xp6(1),e.Q6J("nzValue",6),e.xp6(3),e.Q6J("size",0))},directives:[s._Y,s.JL,s.sg,U.Zp,s.Fj,s.JJ,s.u,h.Vq,m.Lv,u.sg,h.Ip,B.H,j.o],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:flex-start}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;margin-bottom:auto}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:end;display:flex;align-items:center;gap:.5rem}.form[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),n})(),Bt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-info"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Blog post will be here"),e.qZA())},styles:[""]}),n})();function jt(n,o){1&n&&e._UZ(0,"app-car-model")}function Qt(n,o){1&n&&e._UZ(0,"app-car-usage")}function Gt(n,o){1&n&&e._UZ(0,"app-car-price")}function Yt(n,o){1&n&&(e.TgZ(0,"app-main"),e.YNc(1,jt,1,0,"app-car-model",2),e.YNc(2,Qt,1,0,"app-car-usage",2),e.YNc(3,Gt,1,0,"app-car-price",2),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",2),e.xp6(1),e.Q6J("ngSwitchCase",3))}let Ht=(()=>{class n{constructor(t){this.carFacade=t}ngOnInit(){this.carFacade.resetFlow(),this.carFacade.loadVehicles(),this.carFacade.loadLookups()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["quote-car"]],decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngIf"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(e.ynx(0,0),e.ALo(1,"async"),e.YNc(2,Yt,4,3,"app-main",1),e.ALo(3,"async"),e.BQk(),e._UZ(4,"app-info")),2&t&&(e.Q6J("ngSwitch",e.lcZ(1,2,i.carFacade.flowStep$)),e.xp6(2),e.Q6J("ngIf",(e.lcZ(3,4,i.carFacade.flowStep$)||0)<4))},directives:[u.RF,u.O5,dt,u.n9,gt,Vt,Jt,Bt],pipes:[u.Ov],styles:[""]}),n})();function Wt(n,o){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.ekj("done",t.done),e.xp6(1),e.Oqu(t.label)}}let Xt=(()=>{class n{constructor(){this.steps=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-flow-navigation"]],inputs:{steps:"steps"},decls:2,vars:1,consts:[[3,"done",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.TgZ(0,"ul"),e.YNc(1,Wt,2,3,"li",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.steps))},directives:[u.sg],styles:['@charset "UTF-8";ul[_ngcontent-%COMP%]{list-style:none;display:flex;padding:unset;margin:unset;margin:1rem auto;justify-content:center;width:max-content;position:relative}ul[_ngcontent-%COMP%]:after{content:"";height:1px;width:calc(100% - 1rem);background-color:#503ae7;position:absolute;top:.5rem;right:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;font-size:.8rem;position:relative}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:after{content:"";height:3px;width:calc(50% - .5rem);z-index:2;background-color:#e5e5e5;position:absolute;top:.5rem;left:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:"";height:3px;width:calc(50% - .5rem);z-index:2;background-color:#e5e5e5;position:absolute;top:.5rem;right:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-left:3.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";display:block;background-color:#503ae7;border-radius:50%;width:1rem;height:1rem;z-index:3;color:#fff;display:flex;align-items:center;justify-content:center;font-size:.65rem;line-height:.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1):before{content:"1"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2):before{content:"2"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3):before{content:"3"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4):before{content:"4"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5):before{content:"5"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6):before{content:"6"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7):before{content:"7"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8):before{content:"8"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9):before{content:"9"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10):before{content:"10"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(11):before{content:"11"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(12):before{content:"12"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(13):before{content:"13"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(14):before{content:"14"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(15):before{content:"15"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(16):before{content:"16"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(17):before{content:"17"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(18):before{content:"18"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(19):before{content:"19"}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(20):before{content:"20"}ul[_ngcontent-%COMP%]   li.done[_ngcontent-%COMP%]:before{content:"\\2713"}']}),n})();var K=l(1135),Kt=l(2420),N=l(2643),S=l(2683),M=l(1894),v=l(4546),de=l(6634);function en(n,o){if(1&n&&e._UZ(0,"nz-option",15),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}function tn(n,o){if(1&n&&e._UZ(0,"nz-option",15),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}let nn=(()=>{class n{constructor(t,i,r){this.profileService=t,this.carService=i,this.facade=r,this.insuranceForMe=new K.X(!0),this.genders=["\u0645\u0631\u062f","\u0632\u0646"],this.jobTitles=["\u0645\u062d\u0635\u0644 , \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u0627 \u0645\u062f\u0631\u0633","\u0645\u0634\u0627\u063a\u0644 \u0627\u062f\u0627\u0631\u06cc \u0648 \u062f\u0641\u062a\u0631\u06cc -\u0645\u062f\u06cc\u0631\u0627\u0646 \u0648 \u06a9\u0627\u0631\u0645\u0646\u062f\u0627\u0646 \u062f\u0648\u0644\u062a\u06cc \u0648 \u062e\u0635\u0648\u0635\u06cc","\u0641\u0631\u0648\u0634 \u0648 \u0628\u0627\u0632\u0627\u0631\u06cc\u0627\u0628\u06cc - \u0641\u0631\u0648\u0634\u0646\u062f\u0647 /\u0628\u0627\u0632\u0627\u0631\u06cc\u0627\u0628 / \u0635\u0646\u062f\u0648\u0642 \u062f\u0627\u0631","\u0645\u0634\u0627\u063a\u0644 \u062e\u062f\u0645\u0627\u062a\u06cc","\u0645\u0634\u0627\u063a\u0644 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0627\u0628\u0632\u0627\u0631 \u0633\u0628\u06a9 \u0648 \u062a\u0639\u0645\u06cc\u0631\u0627\u062a","\u06a9\u0627\u0631 \u0628\u0627 \u0645\u0648\u0627\u062f \u0634\u06cc\u0645\u06cc\u0627\u06cc\u06cc \u0648 \u0642\u0627\u0628\u0644 \u0627\u0634\u062a\u0639\u0627\u0644","\u06a9\u0627\u0631 \u0628\u0627 \u0627\u0628\u0632\u0627\u0631 \u0633\u0646\u06af\u06cc\u0646","\u067e\u0632\u0634\u06a9\u0627\u0646 \u0648 \u06a9\u0627\u062f\u0631 \u062f\u0631\u0645\u0627\u0646","\u06a9\u0627\u0631 \u0628\u0627 \u0628\u0631\u0642","\u06a9\u0627\u0631 \u062f\u0631 \u0627\u0631\u062a\u0641\u0627\u0639","\u06a9\u0627\u0631 \u0628\u0627 \u0627\u0633\u0644\u062d\u0647","\u06a9\u0627\u0631 \u0628\u0627 \u0645\u0627\u0634\u06cc\u0646 \u0622\u0644\u0627\u062a \u0635\u0646\u0639\u062a\u06cc","\u062e\u0628\u0631\u0646\u06af\u0627\u0631\u06cc \u0648 \u06a9\u0627\u0631\u0647\u0627\u06cc \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0631\u0633\u0627\u0646\u0647","\u0641\u0639\u0627\u0644\u06cc\u0646 \u062d\u0648\u0632\u0647 \u0633\u06cc\u0646\u0645\u0627 \u0648 \u062a\u0627\u062a\u0631","\u0641\u0639\u0627\u0644\u06cc\u0646 \u06af\u0631\u062f\u0634\u06af\u0631\u06cc \u062e\u0627\u0631\u062c\u06cc  \u0648 \u062f\u0627\u062e\u0644\u06cc","\u0645\u0633\u0627\u0641\u0631\u062a \u062e\u0627\u0631\u062c\u06cc","\u0645\u0633\u0627\u0641\u0631\u062a \u062f\u0627\u062e\u0644\u06cc","\u0628\u062f\u0648\u0646 \u0634\u063a\u0644"],this.handleSubmitResult=()=>({next:a=>{this.facade.updateCustomerInfo(a.data),this.facade.nextFlow()},error:a=>{alert(a.message)}}),this.form=new s.cw({first_name:new s.NI("",s.kI.required),last_name:new s.NI("",s.kI.required),national_id:new s.NI("",s.kI.required),birth_date:new s.NI("",s.kI.required),father_name:new s.NI(""),gender:new s.NI(""),job_title:new s.NI("")})}ngOnInit(){this.readProfileData(),this.insuranceForMe.subscribe({next:t=>{t?this.updateFormByProfile():this.form.reset()}})}updateFormByProfile(){!this.profileData||this.form.patchValue({first_name:this.profileData.first_name,last_name:this.profileData.last_name,national_id:this.profileData.national_id,birth_date:this.profileData.birth_date,father_name:this.profileData.father_name,job_title:this.profileData.job_title})}handleSubmit(){this.insuranceForMe.getValue()?this.profileService.updateProfile(this.form.value).pipe((0,I.w)(()=>this.carService.addForUser())).subscribe(this.handleSubmitResult()):this.carService.addCustomer(this.form.value).subscribe(this.handleSubmitResult())}readProfileData(){this.profileService.loadProfile().subscribe({next:t=>{this.profileData=t.data,this.updateFormByProfile()}})}prevStep(){this.facade.prevFlow()}onBirthdayChange(t){var i;null===(i=this.form.get("birth_date"))||void 0===i||i.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Kt.H),e.Y36(V),e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-info"]],decls:50,vars:13,consts:[[1,"hint"],[1,"buttons"],["nz-button","",3,"click"],[3,"formGroup"],["formControlName","first_name","nz-input","","placeholder","\u0646\u0627\u0645"],["formControlName","last_name","nz-input","","placeholder","\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"],["formControlName","national_id","nz-input","","placeholder","\u06a9\u062f \u0645\u0644\u06cc"],[3,"value","valueChange"],["formControlName","father_name","nz-input","","placeholder","\u0646\u0627\u0645 \u067e\u062f\u0631"],["dir","rtl","formControlName","gender"],["dir","rtl",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["dir","rtl","formControlName","job_title"],[1,"flowLayout"],["nz-button","","nzType","primary",3,"disabled","click"],["nz-button","","nzDanger","",3,"click"],["dir","rtl",3,"nzValue","nzLabel"]],template:function(t,i){1&t&&(e.TgZ(0,"main")(1,"h1"),e._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0645\u0647 \u06af\u0630\u0627\u0631"),e.qZA(),e.TgZ(3,"p",0),e._uU(4,"\u0628\u0631\u0627\u06cc \u0686\u0647 \u06a9\u0633\u06cc \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u062e\u0648\u062f \u0631\u0627 \u0628\u062e\u0631\u06cc\u062f \u061f"),e.qZA(),e.TgZ(5,"div",1)(6,"button",2),e.NdJ("click",function(){return i.insuranceForMe.next(!0)}),e.ALo(7,"async"),e._uU(8,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u0631\u0627\u06cc \u062e\u0648\u062f\u0645 "),e.qZA(),e.TgZ(9,"button",2),e.NdJ("click",function(){return i.insuranceForMe.next(!1)}),e.ALo(10,"async"),e._uU(11,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u0631\u0627\u06cc \u062f\u06cc\u06af\u0631\u06cc "),e.qZA()(),e.TgZ(12,"form",3)(13,"nz-form-item")(14,"nz-form-label"),e._uU(15,"\u0646\u0627\u0645"),e.qZA(),e._UZ(16,"input",4),e.qZA(),e.TgZ(17,"nz-form-item")(18,"nz-form-label"),e._uU(19,"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"),e.qZA(),e._UZ(20,"input",5),e.qZA(),e.TgZ(21,"nz-form-item")(22,"nz-form-label"),e._uU(23,"\u06a9\u062f \u0645\u0644\u06cc"),e.qZA(),e._UZ(24,"input",6),e.qZA(),e.TgZ(25,"nz-form-item")(26,"nz-form-label"),e._uU(27,"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"),e.qZA(),e.TgZ(28,"app-date-input",7),e.NdJ("valueChange",function(a){return i.onBirthdayChange(a)}),e.qZA()(),e.TgZ(29,"nz-form-item")(30,"nz-form-label"),e._uU(31,"\u0646\u0627\u0645 \u067e\u062f\u0631"),e.qZA(),e._UZ(32,"input",8),e.qZA(),e.TgZ(33,"nz-form-item")(34,"nz-form-label"),e._uU(35,"\u062c\u0646\u0633\u06cc\u062a"),e.qZA(),e.TgZ(36,"nz-form-control")(37,"nz-select",9),e.YNc(38,en,1,2,"nz-option",10),e.qZA()()(),e.TgZ(39,"nz-form-item")(40,"nz-form-label"),e._uU(41,"\u0634\u063a\u0644"),e.qZA(),e.TgZ(42,"nz-form-control")(43,"nz-select",11),e.YNc(44,tn,1,2,"nz-option",10),e.qZA()()()()(),e.TgZ(45,"footer",12)(46,"button",13),e.NdJ("click",function(){return i.handleSubmit()}),e._uU(47," \u062b\u0628\u062a "),e.qZA(),e.TgZ(48,"button",14),e.NdJ("click",function(){return i.prevStep()}),e._uU(49," \u0645\u0631\u062d\u0644\u0647 \u0642\u0628\u0644 "),e.qZA()()),2&t&&(e.xp6(6),e.ekj("active",e.lcZ(7,9,i.insuranceForMe)),e.xp6(3),e.ekj("active",!e.lcZ(10,11,i.insuranceForMe)),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(16),e.Q6J("value",i.form.value.birth_date),e.xp6(10),e.Q6J("ngForOf",i.genders),e.xp6(6),e.Q6J("ngForOf",i.jobTitles),e.xp6(2),e.Q6J("disabled",i.form.invalid))},directives:[T.ix,N.dQ,S.w,s._Y,s.JL,s.sg,M.SK,v.Nx,M.t3,v.iK,s.Fj,U.Zp,s.JJ,s.u,de.Y,v.Fd,h.Vq,m.Lv,u.sg,h.Ip],pipes:[u.Ov],styles:["main[_ngcontent-%COMP%]{padding:1rem 2rem}main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;font-size:.8rem}main[_ngcontent-%COMP%]   nz-form-control[_ngcontent-%COMP%]{width:100%}main[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;margin:1rem 0;justify-content:center}main[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#3acaf8;color:#fff}main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:1rem;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:1rem;gap:1rem}main[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:unset}"]}),n})();function me(n,o,t,i,r,a,c){try{var d=n[a](c),p=d.value}catch(g){return void t(g)}d.done?o(p):Promise.resolve(p).then(i,r)}function Q(n){return function(){var o=this,t=arguments;return new Promise(function(i,r){var a=n.apply(o,t);function c(p){me(a,i,r,c,d,"next",p)}function d(p){me(a,i,r,c,d,"throw",p)}c(void 0)})}}var G=l(3905);function on(n,o){if(1&n&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.Oqu(t.Caption)}}let rn=(()=>{class n{constructor(t){this.carFacade=t,this.valueChange=new e.vpe,this.chars=[],this.value={iran:"",twoDigit:"",threeDigit:"",char:""}}ngOnInit(){this.carFacade.lookups$.subscribe({next:t=>{this.chars=t.plaque_middle_chars||[]}})}onChangeValue(t,i){var r;const a=Object.assign(Object.assign({},this.value),{[i]:(null===(r=t.target)||void 0===r?void 0:r.value.slice(0,2))||""});this.valueChange.emit(a)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-pelak"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},decls:15,vars:4,consts:[[1,"leftBlueSide"],[1,"middle"],["placeholder","31",1,"twoDigit",3,"maxLength","change"],[1,"char",3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["placeholder","311",1,"threeDigit",3,"maxLength","change"],[1,"iran"],["placeholder","96",3,"maxLength","change"]],template:function(t,i){1&t&&(e.TgZ(0,"main")(1,"div",0)(2,"span"),e._uU(3,"IR"),e.qZA()(),e.TgZ(4,"div",1)(5,"input",2),e.NdJ("change",function(a){return i.onChangeValue(a,"twoDigit")}),e.qZA(),e.TgZ(6,"select",3),e.NdJ("change",function(a){return i.onChangeValue(a,"char")}),e.TgZ(7,"option",4),e._uU(8,"\u062d\u0631\u0641"),e.qZA(),e.YNc(9,on,2,2,"option",5),e.qZA(),e.TgZ(10,"input",6),e.NdJ("change",function(a){return i.onChangeValue(a,"threeDigit")}),e.qZA()(),e.TgZ(11,"div",7)(12,"span"),e._uU(13,"\u0627\u06cc\u0631\u0627\u0646"),e.qZA(),e.TgZ(14,"input",8),e.NdJ("change",function(a){return i.onChangeValue(a,"iran")}),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("maxLength",2),e.xp6(4),e.Q6J("ngForOf",i.chars),e.xp6(1),e.Q6J("maxLength",3),e.xp6(4),e.Q6J("maxLength",2))},directives:[s.YN,s.Kr,u.sg],styles:["main[_ngcontent-%COMP%]{background-color:#fff;border:2px solid black;border-radius:.2rem;width:max-content;display:flex;flex-direction:row-reverse;align-items:center}.leftBlueSide[_ngcontent-%COMP%]{background-color:#0043ae;color:#fff;padding:.5rem}.middle[_ngcontent-%COMP%]{padding:.5rem;display:flex;gap:.5rem;flex-direction:row-reverse}input[_ngcontent-%COMP%]{font-family:monospace;text-align:center;border:2px solid #88888855}.twoDigit[_ngcontent-%COMP%]{width:1.5rem}.char[_ngcontent-%COMP%]{width:2.5rem}.threeDigit[_ngcontent-%COMP%]{width:2rem}.iran[_ngcontent-%COMP%]{padding:0 .5rem;display:flex;flex-direction:column;align-items:center;font-size:.7rem}.iran[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:1.5rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[_ngcontent-%COMP%]::placeholder{color:#9999}"]}),n})();function an(n,o){if(1&n&&e._UZ(0,"nz-option",12),2&n){const t=o.$implicit;e.Q6J("nzValue",t.Id)("nzLabel",t.Caption)}}let sn=(()=>{class n{constructor(t,i,r){this.carFacade=t,this.carService=i,this.message=r,this.colors$=this.carFacade.lookups$.pipe((0,w.U)(a=>a.colors)),this.pelak={threeDigit:"",twoDigit:"",iran:"",char:""},this.form=new s.cw({customer:new s.NI(""),motor_no:new s.NI,color:new s.NI,chasis_no:new s.NI,vin:new s.NI})}inquiryId(){var t=this;return Q(function*(){return(0,G.z)(t.carFacade.customerVehicle$).then(i=>i.inquiryId)})()}ngOnInit(){this.loadCustomerIdToForm()}loadCustomerIdToForm(){this.carFacade.customerInfo$.subscribe({next:t=>this.form.patchValue({customer:t.id})})}submit(){var t=this;return Q(function*(){t.carService.addVehicle({customer:t.form.value.customer,vin:t.form.value.vin,motor_no:t.form.value.motor_no,chasis_no:t.form.value.chasis_no,plaque_left_no:+t.pelak.twoDigit,plaque_middle_char_id:+t.pelak.char,plaque_right_no:+t.pelak.threeDigit,plaque_serial_no:+t.pelak.iran,inquiryId:yield t.inquiryId()}).subscribe({next:i=>{t.carFacade.updateCustomerVehicle(i.data),t.carFacade.nextFlow()},error:i=>{var r,a;console.log(i),t.message.error((null===(a=null===(r=i.error)||void 0===r?void 0:r.errors[0])||void 0===a?void 0:a.message)||"\u062e\u0637\u0627\u06cc \u0646\u0627\u0634\u0646\u0627\u062e\u062a\u0647")}})})()}beforeStep(){this.carFacade.prevFlow()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j),e.Y36(V),e.Y36(se))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-info"]],decls:38,vars:10,consts:[[1,"hint"],["nz-form","",3,"formGroup"],["nzFor","email",3,"nzSpan"],["nz-input","","formControlName","motor_no"],["dir","rtl","formControlName","color"],["dir","rtl",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","formControlName","vin"],["nz-input","","formControlName","chasis_no"],[3,"value","valueChange"],[1,"flowLayout"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzDanger","",3,"click"],["dir","rtl",3,"nzValue","nzLabel"]],template:function(t,i){1&t&&(e.TgZ(0,"main")(1,"h1"),e._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(3,"p",0),e._uU(4,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u062e\u0631\u06cc\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u062f\u0646\u0647 \u06a9\u0627\u0645\u0644 \u06a9\u0646\u06cc\u062f"),e.qZA(),e.TgZ(5,"form",1)(6,"nz-form-item")(7,"nz-form-label",2),e._uU(8,"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u062a\u0648\u0631"),e.qZA(),e.TgZ(9,"nz-form-control"),e._UZ(10,"input",3),e.qZA()(),e.TgZ(11,"nz-form-item")(12,"nz-form-label",2),e._uU(13,"\u0631\u0646\u06af \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(14,"nz-form-control")(15,"nz-select",4),e.YNc(16,an,1,2,"nz-option",5),e.ALo(17,"async"),e.qZA()()(),e.TgZ(18,"nz-form-item")(19,"nz-form-label",2),e._uU(20,"VIN"),e.qZA(),e.TgZ(21,"nz-form-control"),e._UZ(22,"input",6),e.qZA()(),e.TgZ(23,"nz-form-item")(24,"nz-form-label",2),e._uU(25,"\u0634\u0645\u0627\u0631\u0647 \u0634\u0627\u0633\u06cc"),e.qZA(),e.TgZ(26,"nz-form-control"),e._UZ(27,"input",7),e.qZA()(),e.TgZ(28,"nz-form-item")(29,"nz-form-label",2),e._uU(30,"\u0634\u0645\u0627\u0631\u0647 \u067e\u0644\u0627\u06a9"),e.qZA(),e.TgZ(31,"nz-form-control")(32,"app-car-pelak",8),e.NdJ("valueChange",function(a){return i.pelak=a}),e.qZA()()()()(),e.TgZ(33,"footer",9)(34,"button",10),e.NdJ("click",function(){return i.submit()}),e._uU(35,"\u062b\u0628\u062a"),e.qZA(),e.TgZ(36,"button",11),e.NdJ("click",function(){return i.beforeStep()}),e._uU(37,"\u0645\u0631\u062d\u0644\u0647 \u0642\u0628\u0644"),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("nzSpan",4),e.xp6(5),e.Q6J("nzSpan",4),e.xp6(4),e.Q6J("ngForOf",e.lcZ(17,8,i.colors$)),e.xp6(3),e.Q6J("nzSpan",4),e.xp6(5),e.Q6J("nzSpan",4),e.xp6(5),e.Q6J("nzSpan",4),e.xp6(3),e.Q6J("value",i.pelak))},directives:[s._Y,s.JL,v.Lr,s.sg,M.SK,v.Nx,M.t3,v.iK,v.Fd,U.Zp,s.Fj,s.JJ,s.u,h.Vq,m.Lv,u.sg,h.Ip,rn,T.ix,N.dQ,S.w],pipes:[u.Ov],styles:["main[_ngcontent-%COMP%]{padding:1rem 2rem}main[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#888}main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;gap:1rem;grid-row-gap:unset;row-gap:unset}"]}),n})(),ln=(()=>{class n{constructor(t){this.http=t,this.apiUrl=oe.N.apiUrl}upload(t){return this.http.post(`${this.apiUrl}/file/upload/`,t)}delete(t){return this.http.delete(`${this.apiUrl}/file/${t}/`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(H.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var x=l(655),cn=l(4707),un=l(2805),pn=l(8675),dn=l(1884),mn=l(4482),fn=l(5032),fe=l(5403),gn=l(8421),_n=l(7144);function Cn(n,o){1&n&&(e.TgZ(0,"span",3),e._UZ(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),e.qZA())}function zn(n,o){}function vn(n,o){if(1&n&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.nzTip)}}function yn(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",5),e.YNc(2,zn,0,0,"ng-template",6),e.YNc(3,vn,2,1,"div",7),e.qZA()()),2&n){const t=e.oxw(),i=e.MAs(1);e.xp6(1),e.ekj("ant-spin-rtl","rtl"===t.dir)("ant-spin-spinning",t.isLoading)("ant-spin-lg","large"===t.nzSize)("ant-spin-sm","small"===t.nzSize)("ant-spin-show-text",t.nzTip),e.xp6(1),e.Q6J("ngTemplateOutlet",t.nzIndicator||i),e.xp6(1),e.Q6J("ngIf",t.nzTip)}}function xn(n,o){if(1&n&&(e.TgZ(0,"div",9),e.Hsn(1),e.qZA()),2&n){const t=e.oxw();e.ekj("ant-spin-blur",t.isLoading)}}const bn=["*"];let he=(()=>{class n{constructor(t,i,r){this.nzConfigService=t,this.cdr=i,this.directionality=r,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new P.x,this.spinning$=new K.X(this.nzSpinning),this.delay$=new cn.t(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){var t;this.delay$.pipe((0,pn.O)(this.nzDelay),(0,dn.x)(),(0,I.w)(r=>0===r?this.spinning$:this.spinning$.pipe(function hn(n){return(0,mn.e)((o,t)=>{let i=!1,r=null,a=null;const c=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const d=r;r=null,t.next(d)}};o.subscribe((0,fe.x)(t,d=>{null==a||a.unsubscribe(),i=!0,r=d,a=(0,fe.x)(t,c,fn.Z),(0,gn.Xf)(n(d)).subscribe(a)},()=>{c(),t.complete()},void 0,()=>{r=a=null}))})}(a=>(0,un.H)(a?r:0)))),(0,z.R)(this.destroy$)).subscribe(r=>{this.isLoading=r,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,z.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),null===(t=this.directionality.change)||void 0===t||t.pipe((0,z.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzSpinning:i,nzDelay:r}=t;i&&this.spinning$.next(this.nzSpinning),r&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.jY),e.Y36(e.sBO),e.Y36(m.Is,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(t,i){2&t&&e.ekj("ant-spin-nested-loading",!i.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[e.TTD],ngContentSelectors:bn,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,Cn,5,0,"ng-template",null,0,e.W1O),e.YNc(2,yn,4,12,"div",1),e.YNc(3,xn,2,2,"div",2)),2&t&&(e.xp6(2),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.nzSimple))},directives:[u.O5,u.tP],encapsulation:2}),(0,x.gn)([(0,q.oS)()],n.prototype,"nzIndicator",void 0),(0,x.gn)([(0,C.Rn)()],n.prototype,"nzDelay",void 0),(0,x.gn)([(0,C.yF)()],n.prototype,"nzSimple",void 0),(0,x.gn)([(0,C.yF)()],n.prototype,"nzSpinning",void 0),n})(),Tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.vT,u.ez,_n.Q8]]}),n})();function Fn(n,o){1&n&&e._UZ(0,"i",7)}function Nn(n,o){1&n&&e._UZ(0,"nz-spin",8)}function Sn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",9),e.NdJ("click",function(r){return e.CHM(t),e.oxw().removeDoc(r)}),e.qZA()}}let Mn=(()=>{class n{constructor(t){this.uploadService=t,this.label="",this.address="",this.addressChange=new e.vpe,this.loading=!1}ngOnInit(){}handleChangeFile(t){var i;const r=null===(i=t.target)||void 0===i?void 0:i.files[0];this.handlePreviewImage(r),this.uploadImage(r)}handlePreviewImage(t){const i=new FileReader;i.readAsDataURL(t),i.onloadend=r=>{this.imagePreview=i.result}}uploadImage(t){const i=new FormData;i.append("file",t),this.loading=!0,this.uploadService.upload(i).subscribe({next:r=>{this.loading=!1,this.addressChange.emit(r.data.file_id)},error:r=>{this.loading=!1,alert(r.message)}})}removeDoc(t){t.stopPropagation(),this.uploadService.delete(this.address).subscribe({next:()=>{this.imagePreview=void 0,this.addressChange.emit("")},error:()=>{this.imagePreview=void 0,this.addressChange.emit("")}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-upload"]],inputs:{label:"label",address:"address"},outputs:{addressChange:"addressChange"},decls:10,vars:11,consts:[["type","file",3,"change"],["inputFile",""],[1,"uploadBox",3,"click"],["alt","",3,"src"],["nz-icon","","nzType","plus","nzTheme","outline",4,"ngIf"],["nzSimple","",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click",4,"ngIf"],["nz-icon","","nzType","plus","nzTheme","outline"],["nzSimple",""],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"main")(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"input",0,1),e.NdJ("change",function(c){return i.handleChangeFile(c)}),e.qZA(),e.TgZ(5,"div",2),e.NdJ("click",function(){e.CHM(r);const c=e.MAs(4);return!i.address&&c.click()}),e._UZ(6,"img",3),e.YNc(7,Fn,1,0,"i",4),e.YNc(8,Nn,1,0,"nz-spin",5),e.YNc(9,Sn,1,0,"i",6),e.qZA()()}2&t&&(e.xp6(2),e.hij(" ",i.label," "),e.xp6(1),e.Udp("display","none"),e.xp6(2),e.ekj("uploaded",i.address),e.xp6(1),e.ekj("loading",i.loading),e.Q6J("src",i.imagePreview,e.LSH),e.xp6(1),e.Q6J("ngIf",!i.address&&!i.loading),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",i.address))},directives:[u.O5,S.w,F.Ls,he],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.5rem;font-size:.8rem;color:#444}.uploadBox[_ngcontent-%COMP%]{border:3px dashed grey;border-radius:1rem;width:100%;cursor:pointer;height:8rem;display:flex;align-items:center;justify-content:center;position:relative}.uploadBox[_ngcontent-%COMP%]:hover{border-color:#000}.uploadBox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;height:7rem;left:50%;top:50%;transform:translate(-50%,-50%)}.uploadBox[_ngcontent-%COMP%]   img.loading[_ngcontent-%COMP%]{opacity:.5}.uploadBox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{border:1px solid grey;border-radius:50%;padding:.3rem;z-index:2;background-color:#fff;color:gray}.uploaded[_ngcontent-%COMP%]{border-color:green}"]}),n})();var Y=l(4968),ee=l(5664);const _e=["*"],On=["inputElement"],In=["nz-checkbox",""];let Ce=(()=>{class n{constructor(t,i){this.nzOnChange=new e.vpe,this.checkboxList=[],t.addClass(i.nativeElement,"ant-checkbox-group")}addCheckbox(t){this.checkboxList.push(t)}removeCheckbox(t){this.checkboxList.splice(this.checkboxList.indexOf(t),1)}onChange(){const t=this.checkboxList.filter(i=>i.nzChecked).map(i=>i.nzValue);this.nzOnChange.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-checkbox-wrapper"]],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],ngContentSelectors:_e,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),ze=(()=>{class n{constructor(t,i,r,a,c,d){this.ngZone=t,this.elementRef=i,this.nzCheckboxWrapperComponent=r,this.cdr=a,this.focusMonitor=c,this.directionality=d,this.dir="ltr",this.destroy$=new P.x,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new e.vpe,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null}innerCheckedChange(t){this.nzDisabled||(this.nzChecked=t,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(t){this.nzChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,z.R)(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),this.directionality.change.pipe((0,z.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Y.R)(this.elementRef.nativeElement,"click").pipe((0,z.R)(this.destroy$)).subscribe(t=>{t.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),(0,Y.R)(this.inputElement.nativeElement,"click").pipe((0,z.R)(this.destroy$)).subscribe(t=>t.stopPropagation())})}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(Ce,8),e.Y36(e.sBO),e.Y36(ee.tE),e.Y36(m.Is,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","nz-checkbox",""]],viewQuery:function(t,i){if(1&t&&e.Gf(On,7),2&t){let r;e.iGM(r=e.CRH())&&(i.inputElement=r.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("ant-checkbox-wrapper-checked",i.nzChecked)("ant-checkbox-rtl","rtl"===i.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],features:[e._Bn([{provide:s.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],attrs:In,ngContentSelectors:_e,decls:6,vars:11,consts:[[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"checked","ngModel","disabled","ngModelChange"],["inputElement",""],[1,"ant-checkbox-inner"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"span",0)(1,"input",1,2),e.NdJ("ngModelChange",function(a){return i.innerCheckedChange(a)}),e.qZA(),e._UZ(3,"span",3),e.qZA(),e.TgZ(4,"span"),e.Hsn(5),e.qZA()),2&t&&(e.ekj("ant-checkbox-checked",i.nzChecked&&!i.nzIndeterminate)("ant-checkbox-disabled",i.nzDisabled)("ant-checkbox-indeterminate",i.nzIndeterminate),e.xp6(1),e.Q6J("checked",i.nzChecked)("ngModel",i.nzChecked)("disabled",i.nzDisabled),e.uIk("autofocus",i.nzAutoFocus?"autofocus":null)("id",i.nzId))},directives:[s.Wl,s.JJ,s.On],encapsulation:2,changeDetection:0}),(0,x.gn)([(0,C.yF)()],n.prototype,"nzAutoFocus",void 0),(0,x.gn)([(0,C.yF)()],n.prototype,"nzDisabled",void 0),(0,x.gn)([(0,C.yF)()],n.prototype,"nzIndeterminate",void 0),(0,x.gn)([(0,C.yF)()],n.prototype,"nzChecked",void 0),n})(),ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.vT,u.ez,s.u5,ee.rt]]}),n})();function wn(n,o){if(1&n&&e._UZ(0,"nz-option",18),2&n){const t=o.$implicit;e.Q6J("nzValue",t.company_id)("nzLabel",t.company_persian_name)}}function Pn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"nz-form-item")(2,"nz-form-label",12),e._uU(3,"\u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc "),e.qZA(),e.TgZ(4,"nz-form-control")(5,"nz-select",13),e.YNc(6,wn,1,2,"nz-option",14),e.ALo(7,"async"),e.qZA()()(),e.TgZ(8,"nz-form-item")(9,"nz-form-label",12),e._uU(10,"\u0634\u0645\u0627\u0631\u0647 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc "),e.qZA(),e.TgZ(11,"nz-form-control"),e._UZ(12,"input",15),e.qZA()(),e.TgZ(13,"nz-form-item")(14,"nz-form-label",12),e._uU(15,"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc "),e.qZA(),e.TgZ(16,"nz-form-control")(17,"app-date-input",16),e.NdJ("valueChange",function(r){return e.CHM(t),e.oxw().on_previous_insurance_start_date_change(r)}),e.qZA()()(),e.TgZ(18,"nz-form-item")(19,"nz-form-label",12),e._uU(20,"\u062a\u0627\u0631\u06cc\u062e \u0627\u062a\u0645\u0627\u0645 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc "),e.qZA(),e.TgZ(21,"nz-form-control")(22,"app-date-input",16),e.NdJ("valueChange",function(r){return e.CHM(t),e.oxw().on_previous_insurance_end_date_change(r)}),e.qZA()()(),e.TgZ(23,"app-upload",17),e.NdJ("addressChange",function(r){return e.CHM(t),e.oxw().previous_policy_image=r}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("nzSpan",8),e.xp6(4),e.Q6J("ngForOf",e.lcZ(7,8,t.companies$)),e.xp6(3),e.Q6J("nzSpan",8),e.xp6(5),e.Q6J("nzSpan",8),e.xp6(3),e.Q6J("value",t.form.value.previous_insurance_start_date),e.xp6(2),e.Q6J("nzSpan",8),e.xp6(3),e.Q6J("value",t.form.value.on_previous_insurance_end_date_change),e.xp6(1),e.Q6J("address",t.previous_policy_image)}}let Un=(()=>{class n{constructor(t,i){this.carFacade=t,this.carService=i,this.vehicle_card_front_image="",this.vehicle_card_back_image="",this.previous_policy_image="",this.companies$=this.carFacade.lookups$.pipe((0,w.U)(r=>r.insurance_companies)),this.vehicleId="",this.form=new s.cw({previous_insurance_company_id:new s.NI(""),previous_insurance_start_date:new s.NI(""),previous_insurance_end_date:new s.NI(""),hasPrevInsurance:new s.NI(!1)})}get hasPrevInsurance(){return this.form.value.hasPrevInsurance}ngOnInit(){this.carFacade.loadLookups(),this.carFacade.customerVehicle$.subscribe({next:t=>{this.vehicleId=t.id||""}})}submit(){var t;let i={vehicle_card_back_image:this.vehicle_card_back_image,vehicle_card_front_image:this.vehicle_card_front_image};(null===(t=this.form.get("hasPrevInsurance"))||void 0===t?void 0:t.value)&&(i=Object.assign(Object.assign({},i),{previous_insurance_company_id:this.form.value.previous_insurance_company_id,previous_insurance_start_date:this.form.value.previous_insurance_start_date,previous_insurance_end_date:this.form.value.previous_insurance_end_date,previous_policy_image:this.previous_policy_image})),this.carService.updateVehicle(this.vehicleId,i).subscribe({next:()=>{this.carFacade.nextFlow()},error:r=>{alert(r.message)}})}prevStep(){this.carFacade.prevFlow()}on_previous_insurance_start_date_change(t){var i;null===(i=this.form.get("previous_insurance_start_date"))||void 0===i||i.setValue(t)}on_previous_insurance_end_date_change(t){var i;null===(i=this.form.get("previous_insurance_end_date"))||void 0===i||i.setValue(t)}formIsValid(){var t,i,r,a;return!(!this.vehicle_card_front_image||!this.vehicle_card_back_image)&&(!(null===(t=this.form.get("hasPrevInsurance"))||void 0===t?void 0:t.value)||this.previous_policy_image&&(null===(i=this.form.get("previous_insurance_company_id"))||void 0===i?void 0:i.value)&&(null===(r=this.form.get("previous_insurance_start_date"))||void 0===r?void 0:r.value)&&(null===(a=this.form.get("previous_insurance_end_date"))||void 0===a?void 0:a.value))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j),e.Y36(V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-upload-car-doc"]],decls:18,vars:5,consts:[[1,"hint"],["nz-form","",3,"formGroup"],[1,"twoUploadBox"],["label","\u0627\u067e\u0644\u0648\u062f \u0639\u06a9\u0633 \u0631\u0648\u06cc \u06a9\u0627\u0631\u062a \u0645\u0627\u0634\u06cc\u0646 \u06cc\u0627 \u06a9\u0627\u0631\u062a \u0633\u0628\u0632",3,"address","addressChange"],["label","\u0627\u067e\u0644\u0648\u062f \u0639\u06a9\u0633 \u067e\u0634\u062a \u06a9\u0627\u0631\u062a \u0645\u0627\u0634\u06cc\u0646 \u06cc\u0627 \u06a9\u0627\u0631\u062a \u0633\u0628\u0632",3,"address","addressChange"],[1,"hasInsurance"],["nz-checkbox","","formControlName","hasPrevInsurance"],["class","hasInsurance__box",4,"ngIf"],[1,"flowLayout"],["nz-button","","nzType","primary",3,"disabled","click"],["nz-button","","nzDanger","",3,"click"],[1,"hasInsurance__box"],["nzFor","email",3,"nzSpan"],["formControlName","previous_insurance_company_id","dir","rtl"],["dir","rtl",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","formControlName","previous_insurance_company_number"],[3,"value","valueChange"],["label","\u0627\u067e\u0644\u0648\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0642\u0628\u0644\u06cc",3,"address","addressChange"],["dir","rtl",3,"nzValue","nzLabel"]],template:function(t,i){1&t&&(e.TgZ(0,"main")(1,"h1"),e._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(3,"p",0),e._uU(4,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u062e\u0631\u06cc\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0628\u062f\u0646\u0647 \u06a9\u0627\u0645\u0644 \u06a9\u0646\u06cc\u062f"),e.qZA(),e.TgZ(5,"form",1)(6,"div",2)(7,"app-upload",3),e.NdJ("addressChange",function(a){return i.vehicle_card_front_image=a}),e.qZA(),e.TgZ(8,"app-upload",4),e.NdJ("addressChange",function(a){return i.vehicle_card_back_image=a}),e.qZA()(),e.TgZ(9,"div",5)(10,"label",6),e._uU(11,"\u0642\u0628\u0644\u0627 \u0628\u06cc\u0645\u0647 \u0628\u062f\u0646\u0647 \u062f\u0627\u0634\u062a\u0645"),e.qZA(),e.YNc(12,Pn,24,10,"div",7),e.qZA()()(),e.TgZ(13,"footer",8)(14,"button",9),e.NdJ("click",function(){return i.submit()}),e._uU(15,"\u062b\u0628\u062a"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return i.prevStep()}),e._uU(17,"\u0645\u0631\u062d\u0644\u0647 \u0642\u0628\u0644"),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("address",i.vehicle_card_front_image),e.xp6(1),e.Q6J("address",i.vehicle_card_back_image),e.xp6(4),e.Q6J("ngIf",i.hasPrevInsurance),e.xp6(2),e.Q6J("disabled",!i.formIsValid()))},directives:[s._Y,s.JL,v.Lr,s.sg,Mn,ze,s.JJ,s.u,u.O5,M.SK,v.Nx,M.t3,v.iK,v.Fd,h.Vq,m.Lv,u.sg,h.Ip,U.Zp,s.Fj,de.Y,T.ix,N.dQ,S.w],pipes:[u.Ov],styles:["main[_ngcontent-%COMP%]{padding:2rem}.twoUploadBox[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;gap:1rem}.hasInsurance[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:1rem;flex-direction:column}.hasInsurance[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:1rem}.hasInsurance__box[_ngcontent-%COMP%]{border:1px solid grey;padding:2rem;border-radius:1rem;display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;gap:1rem}"]}),n})();function Zn(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("(",t.formatTime(),")")}}let kn=(()=>{class n{constructor(t){this.carFacade=t,this.timer=120,this.resendEnabled=new K.X(!0)}ngOnInit(){this.carFacade.issueInsurance(),this.resendEnabled.subscribe({next:t=>{if(!t){this.timer=120;const i=setInterval(()=>{0===this.timer&&(this.resendEnabled.next(!0),clearInterval(i)),this.timer--},1e3)}}}),this.resendEnabled.next(!1)}handleResend(){this.resendEnabled.next(!1),this.carFacade.issueInsurance()}formatTime(){const t=Math.floor(this.timer/60),i=Math.floor(this.timer%60);return`${t<10?"0"+t:t}:${i<10?"0"+i:i}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-visit"]],decls:12,vars:6,consts:[[1,"hint"],["nz-button","","nzSize","small",3,"disabled","click"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"main")(1,"h1"),e._uU(2,"\u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(3,"p",0),e._uU(4,"\u0645\u0646\u062a\u0638\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u067e\u06cc\u0627\u0645\u06a9 \u062c\u0647\u062a \u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648 \u0628\u0627\u0634\u06cc\u062f"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u067e\u0633 \u0627\u0632 \u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648 \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u062e\u062a \u062f\u0648\u0628\u0627\u0631\u0647 \u0628\u0647 \u0633\u0627\u06cc\u062a \u06a9\u0646\u0648\u0646\u06cc \u0628\u0627\u0632\u06af\u0631\u062f\u06cc\u062f"),e.qZA(),e.TgZ(7,"button",1),e.NdJ("click",function(){return i.handleResend()}),e.ALo(8,"async"),e._uU(9,"\u0627\u0631\u0633\u0627\u0644 \u0645\u062c\u062f\u062f \u067e\u06cc\u0627\u0645\u06a9 "),e.YNc(10,Zn,2,1,"span",2),e.ALo(11,"async"),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("disabled",!e.lcZ(8,2,i.resendEnabled)),e.xp6(3),e.Q6J("ngIf",!e.lcZ(11,4,i.resendEnabled)))},directives:[T.ix,N.dQ,S.w,u.O5],pipes:[u.Ov],styles:["main[_ngcontent-%COMP%]{padding:1rem 2rem}main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;font-size:.8rem}main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8rem}"]}),n})(),An=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-payment-factor"]],decls:53,vars:0,consts:[["nz-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"section")(1,"header"),e._uU(2," \u0641\u0627\u06a9\u062a\u0648\u0631 \u067e\u0631\u062f\u0627\u062e\u062a "),e.qZA(),e.TgZ(3,"main")(4,"ul")(5,"li")(6,"span"),e._uU(7,"\u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647"),e.qZA(),e.TgZ(8,"span"),e._uU(9,"\u0633\u06cc\u0646\u0627"),e.qZA()(),e.TgZ(10,"li")(11,"span"),e._uU(12,"\u0648\u0633\u06cc\u0644\u0647 \u0646\u0642\u0644\u06cc\u0647"),e.qZA(),e.TgZ(13,"span"),e._uU(14,"\u067e\u0698\u0648 405"),e.qZA()(),e.TgZ(15,"li")(16,"span"),e._uU(17,"\u0633\u0627\u0644 \u0633\u0627\u062e\u062a"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"1399"),e.qZA()(),e.TgZ(20,"li")(21,"span"),e._uU(22,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648"),e.qZA(),e.TgZ(23,"span"),e._uU(24,"250 \u0645\u06cc\u0644\u06cc\u0648\u0646"),e.qZA()(),e.TgZ(25,"li")(26,"span"),e._uU(27,"\u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647 \u06af\u0631 \u0642\u0628\u0644\u06cc"),e.qZA(),e.TgZ(28,"span"),e._uU(29,"\u0627\u0644\u0628\u0631\u0632"),e.qZA()(),e.TgZ(30,"li")(31,"span"),e._uU(32,"\u067e\u0648\u0634\u0634 \u0647\u0627\u06cc \u0627\u0636\u0627\u0641\u06cc"),e.qZA(),e.TgZ(33,"span"),e._uU(34,"\u0646\u062f\u0627\u0631\u062f"),e.qZA()()(),e.TgZ(35,"ul")(36,"li")(37,"span"),e._uU(38,"\u0642\u06cc\u0645\u062a \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),e.qZA(),e.TgZ(39,"span"),e._uU(40,"800 \u0647\u0632\u0627\u0631 \u062a\u0648\u0645\u0627\u0646"),e.qZA()(),e.TgZ(41,"li")(42,"span"),e._uU(43,"\u062f\u0631\u0635\u062f \u062a\u062e\u0641\u06cc\u0641"),e.qZA(),e.TgZ(44,"span"),e._uU(45,"0 \u062a\u0648\u0645\u0627\u0646"),e.qZA()(),e.TgZ(46,"li")(47,"span"),e._uU(48,"\u0645\u0628\u0644\u063a \u06a9\u0644 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),e.qZA(),e.TgZ(49,"span"),e._uU(50,"800 \u0647\u0632\u0627\u0631 \u062a\u0648\u0645\u0627\u0646"),e.qZA()()(),e.TgZ(51,"button",0),e._uU(52," \u067e\u0631\u062f\u0627\u062e\u062a "),e.qZA()()())},directives:[T.ix,N.dQ,S.w],styles:["section[_ngcontent-%COMP%]{width:30rem;border-radius:1rem;padding:unset;margin:2rem auto;background-color:#fff}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0;padding:.5rem;background-color:#000;color:#fff}section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:unset;list-style:none;margin:unset;display:flex;flex-direction:column;margin-bottom:1rem;font-size:.8rem}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:first-child{border-bottom:1px solid black;padding-bottom:.5rem}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:first-child   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px dashed lightgrey}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;padding:.5rem 0;justify-content:space-between}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end}"]}),n})(),En=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-pending"]],decls:10,vars:0,consts:[[1,"paymentResultBox"],["nz-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"section")(1,"h3"),e._uU(2,"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631 \u0635\u062f\u0648\u0631 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0634\u0645\u0627 \u062f\u0631 \u062d\u0627\u0644 \u0635\u062f\u0648\u0631 \u0645\u06cc\u0628\u0627\u0634\u062f \u0648 \u0637\u06cc 24 \u0633\u0627\u0639\u062a \u0627\u06cc\u0646\u062f\u0647 \u0635\u0627\u062f\u0631 \u0645\u06cc\u0634\u0648\u062f \u060c \u0644\u0637\u0641\u0627 \u0645\u0646\u062a\u0638\u0631 \u0628\u0645\u0627\u0646\u06cc\u062f"),e.qZA(),e.TgZ(5,"div",0)(6,"p"),e._uU(7,"\u067e\u0631\u062f\u0627\u062e\u062a \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"),e.qZA(),e.TgZ(8,"button",1),e._uU(9,"\u0627\u062f\u0627\u0645\u0647"),e.qZA()()())},directives:[T.ix,N.dQ,S.w],styles:["section[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column}section[_ngcontent-%COMP%]   .paymentResultBox[_ngcontent-%COMP%]{background-color:#e0e4fc;border-radius:1rem;padding:3rem 8rem;height:20rem;display:flex;flex-direction:column;margin:2rem auto;align-items:flex-start}section[_ngcontent-%COMP%]   .paymentResultBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4rem}section[_ngcontent-%COMP%]   .paymentResultBox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:center}"]}),n})(),Dn=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-insurance-issued"]],decls:20,vars:0,consts:[["nz-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"section")(1,"h3"),e._uU(2,"\u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 \u0635\u0627\u062f\u0631 \u0634\u062f\u0647 "),e.qZA(),e.TgZ(3,"ul")(4,"li"),e._uU(5,"\u0646\u0627\u0645 \u0628\u06cc\u0645\u0647 \u06af\u0630\u0627\u0631 :\u200c\u0633\u06cc\u062f \u0645\u062d\u0645\u062f \u0642\u0627\u0636\u06cc"),e.qZA(),e.TgZ(6,"li"),e._uU(7,"\u062e\u0648\u062f\u0631\u0648 :\u200c\u062a\u06cc\u0628\u0627 \u06f2"),e.qZA(),e.TgZ(8,"li"),e._uU(9,"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 :\u200c\u06f1\u06f4\u06f0\u06f1/\u06f2/\u06f2\u06f9"),e.qZA(),e.TgZ(10,"li"),e._uU(11,"\u0645\u062f\u062a \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 :\u200c\u06cc\u06a9\u0633\u0627\u0644 "),e.qZA(),e.TgZ(12,"li"),e._uU(13,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648 : \u06f1\u06f6\u06f5\u06f0\u06f0\u06f0\u06f0\u06f0\u06f0"),e.qZA(),e.TgZ(14,"li"),e._uU(15,"\u0634\u0645\u0627\u0631\u0647 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647 :\u200c\u06f4\u06f3\u06f2\u06f1\u06f4\u06f1\u06f2\u06f3\u06f2\u06f5"),e.qZA(),e.TgZ(16,"li"),e._uU(17,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648 : \u06f1\u06f6\u06f5\u06f0\u06f0\u06f0\u06f0\u06f0\u06f0"),e.qZA()(),e.TgZ(18,"button",0),e._uU(19,"\u062f\u0627\u0646\u0644\u0648\u062f \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647"),e.qZA()())},directives:[T.ix,N.dQ,S.w],styles:["section[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;gap:1rem;align-items:flex-start}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:unset;list-style:none;padding:unset}"]}),n})();function Ln(n,o){1&n&&e._UZ(0,"app-customer-info")}function $n(n,o){1&n&&e._UZ(0,"app-car-info")}function Rn(n,o){1&n&&e._UZ(0,"app-upload-car-doc")}function Vn(n,o){1&n&&e._UZ(0,"app-car-visit")}function qn(n,o){1&n&&e._UZ(0,"app-car-payment-factor")}function Jn(n,o){1&n&&e._UZ(0,"app-car-pending")}function Bn(n,o){1&n&&e._UZ(0,"app-car-insurance-issued")}let jn=(()=>{class n{constructor(t){this.carFacade=t,this.steps=[{label:"\u0648\u0631\u0648\u062f",done:!0,id:4},{label:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648",done:!1,id:5},{label:"\u0627\u067e\u0644\u0648\u062f \u0645\u062f\u0627\u0631\u06a9",done:!1,id:6},{label:"\u0628\u0627\u0632\u062f\u06cc\u062f \u062e\u0648\u062f\u0631\u0648",done:!1,id:7},{label:"\u067e\u0631\u062f\u0627\u062e\u062a",done:!1,id:8},{label:"\u0635\u062f\u0648\u0631 \u0628\u06cc\u0645\u0647 \u0646\u0627\u0645\u0647",done:!1,id:9}]}ngOnInit(){this.carFacade.loadLookups()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-car-flow-layout"]],decls:12,vars:11,consts:[[1,"content"],[3,"ngSwitch"],[3,"steps"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(e.TgZ(0,"main")(1,"div",0),e.ynx(2,1),e.ALo(3,"async"),e._UZ(4,"app-flow-navigation",2),e.YNc(5,Ln,1,0,"app-customer-info",3),e.YNc(6,$n,1,0,"app-car-info",3),e.YNc(7,Rn,1,0,"app-upload-car-doc",3),e.YNc(8,Vn,1,0,"app-car-visit",3),e.YNc(9,qn,1,0,"app-car-payment-factor",3),e.YNc(10,Jn,1,0,"app-car-pending",3),e.YNc(11,Bn,1,0,"app-car-insurance-issued",3),e.BQk(),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngSwitch",e.lcZ(3,9,i.carFacade.flowStep$)),e.xp6(2),e.Q6J("steps",i.steps),e.xp6(1),e.Q6J("ngSwitchCase",5),e.xp6(1),e.Q6J("ngSwitchCase",6),e.xp6(1),e.Q6J("ngSwitchCase",7),e.xp6(1),e.Q6J("ngSwitchCase",8),e.xp6(1),e.Q6J("ngSwitchCase",9),e.xp6(1),e.Q6J("ngSwitchCase",10),e.xp6(1),e.Q6J("ngSwitchCase",11))},directives:[u.RF,Xt,u.n9,nn,sn,Un,kn,An,En,Dn],pipes:[u.Ov],styles:[".content[_ngcontent-%COMP%]{width:80%;background-color:#e5e5e5;border-radius:1rem;margin:3rem auto;display:flex;flex-direction:column}  footer.flowLayout{width:100%;background-color:#313133;padding:2rem;border-radius:0 0 1rem 1rem;display:flex;justify-content:flex-end;gap:1rem}"]}),n})();var A=l(1159);const Qn=["inputElement"];let Gn=(()=>{class n{constructor(t,i,r,a,c){this.ngZone=t,this.elementRef=i,this.cdr=r,this.focusMonitor=a,this.directionality=c,this.destroy$=new P.x,this.isFocused=!1,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new e.vpe,this.nzFocus=new e.vpe,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=d=>d.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzFormatter=d=>d}onModelChange(t){this.parsedValue=this.nzParser(t),this.inputElement.nativeElement.value=`${this.parsedValue}`;const i=this.getCurrentValidValue(this.parsedValue);this.setValue(i)}getCurrentValidValue(t){let i=t;return i=""===i?"":this.isNotCompleteNumber(i)?this.value:`${this.getValidValue(i)}`,this.toNumber(i)}isNotCompleteNumber(t){return isNaN(t)||""===t||null===t||!(!t||t.toString().indexOf(".")!==t.toString().length-1)}getValidValue(t){let i=parseFloat(t);return isNaN(i)?t:(i<this.nzMin&&(i=this.nzMin),i>this.nzMax&&(i=this.nzMax),i)}toNumber(t){if(this.isNotCompleteNumber(t))return t;const i=String(t);if(i.indexOf(".")>=0&&(0,C.DX)(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(t,this.nzPrecision);if("cut"===this.nzPrecisionMode){const r=i.split(".");return r[1]=r[1].slice(0,this.nzPrecision),Number(r.join("."))}return Number(Number(t).toFixed(this.nzPrecision))}return Number(t)}getRatio(t){let i=1;return t.metaKey||t.ctrlKey?i=.1:t.shiftKey&&(i=10),i}down(t,i){this.isFocused||this.focus(),this.step("down",t,i)}up(t,i){this.isFocused||this.focus(),this.step("up",t,i)}getPrecision(t){const i=t.toString();if(i.indexOf("e-")>=0)return parseInt(i.slice(i.indexOf("e-")+2),10);let r=0;return i.indexOf(".")>=0&&(r=i.length-i.indexOf(".")-1),r}getMaxPrecision(t,i){if((0,C.DX)(this.nzPrecision))return this.nzPrecision;const r=this.getPrecision(i),a=this.getPrecision(this.nzStep),c=this.getPrecision(t);return t?Math.max(c,r+a):r+a}getPrecisionFactor(t,i){const r=this.getMaxPrecision(t,i);return Math.pow(10,r)}upStep(t,i){const r=this.getPrecisionFactor(t,i),a=Math.abs(this.getMaxPrecision(t,i));let c;return c="number"==typeof t?((r*t+r*this.nzStep*i)/r).toFixed(a):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(c)}downStep(t,i){const r=this.getPrecisionFactor(t,i),a=Math.abs(this.getMaxPrecision(t,i));let c;return c="number"==typeof t?((r*t-r*this.nzStep*i)/r).toFixed(a):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(c)}step(t,i,r=1){if(this.stop(),i.preventDefault(),this.nzDisabled)return;const a=this.getCurrentValidValue(this.parsedValue)||0;let c=0;"up"===t?c=this.upStep(a,r):"down"===t&&(c=this.downStep(a,r));const d=c>this.nzMax||c<this.nzMin;c>this.nzMax?c=this.nzMax:c<this.nzMin&&(c=this.nzMin),this.setValue(c),this.updateDisplayValue(c),this.isFocused=!0,!d&&(this.autoStepTimer=setTimeout(()=>{this[t](i,r)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(t){if(`${this.value}`!=`${t}`&&this.onChange(t),this.value=t,this.parsedValue=t,this.disabledUp=this.disabledDown=!1,t||0===t){const i=Number(t);i>=this.nzMax&&(this.disabledUp=!0),i<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(t){const i=(0,C.DX)(this.nzFormatter(t))?this.nzFormatter(t):"";this.displayValue=i,this.inputElement.nativeElement.value=`${i}`}writeValue(t){this.value=t,this.setValue(t),this.updateDisplayValue(t),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,z.R)(this.destroy$)).subscribe(t=>{t?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,this.directionality.change.pipe((0,z.R)(this.destroy$)).subscribe(t=>{this.dir=t}),this.ngZone.runOutsideAngular(()=>{(0,Y.R)(this.inputElement.nativeElement,"keyup").pipe((0,z.R)(this.destroy$)).subscribe(()=>this.stop()),(0,Y.R)(this.inputElement.nativeElement,"keydown").pipe((0,z.R)(this.destroy$)).subscribe(t=>{const{keyCode:i}=t;i!==A.LH&&i!==A.JH&&i!==A.K5||this.ngZone.run(()=>{if(i===A.LH){const r=this.getRatio(t);this.up(t,r),this.stop()}else if(i===A.JH){const r=this.getRatio(t);this.down(t,r),this.stop()}else this.updateDisplayValue(this.value);this.cdr.markForCheck()})})})}ngOnChanges(t){if(t.nzFormatter&&!t.nzFormatter.isFirstChange()){const i=this.getCurrentValidValue(this.parsedValue);this.setValue(i),this.updateDisplayValue(i)}}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ee.tE),e.Y36(m.Is,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-input-number"]],viewQuery:function(t,i){if(1&t&&e.Gf(Qn,7),2&t){let r;e.iGM(r=e.CRH())&&(i.inputElement=r.first)}},hostAttrs:[1,"ant-input-number"],hostVars:10,hostBindings:function(t,i){2&t&&e.ekj("ant-input-number-focused",i.isFocused)("ant-input-number-lg","large"===i.nzSize)("ant-input-number-sm","small"===i.nzSize)("ant-input-number-disabled",i.nzDisabled)("ant-input-number-rtl","rtl"===i.dir)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecision:"nzPrecision",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzFormatter:"nzFormatter"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],features:[e._Bn([{provide:s.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD],decls:8,vars:13,consts:[[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"disabled","placeholder","ngModel","ngModelChange"],["inputElement",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("mousedown",function(a){return i.up(a)})("mouseup",function(){return i.stop()})("mouseleave",function(){return i.stop()}),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"span",3),e.NdJ("mousedown",function(a){return i.down(a)})("mouseup",function(){return i.stop()})("mouseleave",function(){return i.stop()}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5)(6,"input",6,7),e.NdJ("ngModelChange",function(a){return i.onModelChange(a)}),e.qZA()()),2&t&&(e.xp6(1),e.ekj("ant-input-number-handler-up-disabled",i.disabledUp),e.xp6(2),e.ekj("ant-input-number-handler-down-disabled",i.disabledDown),e.xp6(3),e.Q6J("disabled",i.nzDisabled)("placeholder",i.nzPlaceHolder)("ngModel",i.displayValue),e.uIk("id",i.nzId)("autofocus",i.nzAutoFocus?"autofocus":null)("min",i.nzMin)("max",i.nzMax)("step",i.nzStep)("inputmode",i.nzInputMode))},directives:[F.Ls,s.Fj,s.JJ,s.On],encapsulation:2,changeDetection:0}),(0,x.gn)([(0,C.yF)()],n.prototype,"nzDisabled",void 0),(0,x.gn)([(0,C.yF)()],n.prototype,"nzAutoFocus",void 0),n})(),Yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.vT,u.ez,s.u5,F.PV]]}),n})();function Hn(n,o){if(1&n&&e._UZ(0,"nz-option",21),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}function Wn(n,o){if(1&n&&e._UZ(0,"nz-option",21),2&n){const t=o.$implicit;e.Q6J("nzValue",t)("nzLabel",t)}}let Xn=(()=>{class n{constructor(t,i){this.carFacade=t,this.fb=i,this.vehicleForm=this.fb.group({brand:"",model:"",vehicleValue:"",basicDiscountYears:"",additionalCovs:this.fb.group({naturalDisaster:!1,glassBreak:!1,insteal:!1,splashPaint:!1,transportation:!1,priceFluctuation:!1})}),this.submitChanges=()=>{const r=this.vehicleForm.value.vehicleValue,a=Object.assign(Object.assign({},this.vehicleForm.value),{vehicleValue:"string"==typeof r?+this.vehicleForm.value.vehicleValue.replace(/,/g,""):r});this.carFacade.updateCustomerVehicle(a),this.carFacade.inquiryPrice()}}ngOnInit(){this.patchForm(),this.vehicleForm.controls.brand.valueChanges.subscribe(t=>this.carFacade.updateCustomerVehicle({brand:t}))}patchForm(){(0,G.z)(this.carFacade.customerVehicle$).then(t=>{this.vehicleForm.patchValue(Object.assign({},t))})}numberInputFormat(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}CommaFormatted(t){var i,r;if(t.which>=37&&t.which<=40)return;let a=null===(i=this.vehicleForm.get("vehicleValue"))||void 0===i?void 0:i.value;a&&(null===(r=this.vehicleForm.get("vehicleValue"))||void 0===r||r.setValue(a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")))}numberCheck(t){return!("e"===t.key||"+"===t.key||"-"===t.key)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.j),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-compare-head"]],decls:44,vars:8,consts:[[1,"container",3,"formGroup"],[1,"item",2,"flex-grow","4"],[1,"item-select"],[1,"item-select__item"],["dir","rtl","nzPlaceHolder","\u0628\u0631\u0646\u062f \u062e\u0648\u062f\u0631\u0648","nzSize","large","formControlName","brand"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","\u0633\u0627\u0628\u0642\u0647 \u0639\u062f\u0645 \u062e\u0633\u0627\u0631\u062a \u0628\u062f\u0646\u0647","dir","rtl","nzSize","small","formControlName","basicDiscountYears"],["dir","rtl","nzPlaceHolder","\u0645\u062f\u0644 \u062e\u0648\u062f\u0631\u0648","nzSize","large","formControlName","model"],["nzPlaceHolder","\u0633\u0627\u0628\u0642\u0647\u200c\u0639\u062f\u0645\u200c\u062e\u0633\u0627\u0631\u062a\u200c\u067e\u0648\u0634\u0634\u200c\u0647\u0627\u06cc\u200c\u0627\u0636\u0627\u0641\u06cc\u200c\u0628\u062f\u0646\u0647","dir","rtl",3,"nzDisabled"],[1,"submit",3,"click"],[1,"item",2,"flex-grow","1"],["formGroupName","additionalCovs",2,"width","100%"],["nz-row",""],["nz-col","","nzSpan","8"],["nz-checkbox","","formControlName","naturalDisaster"],["nz-checkbox","","formControlName","glassBreak"],["nz-checkbox","","formControlName","insteal"],["nz-checkbox","","formControlName","splashPaint"],["nz-checkbox","","formControlName","transportation"],["nz-checkbox","","formControlName","priceFluctuation"],["type","text","nz-input","","name","product_price","formControlName","vehicleValue","autocomplete","off",3,"keydown","keyup"],[3,"nzValue","nzLabel"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"h2"),e._uU(3,"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0642\u06cc\u0645\u062a"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"nz-select",4),e.YNc(7,Hn,1,2,"nz-option",5),e.ALo(8,"async"),e.qZA(),e._UZ(9,"nz-input-number",6),e.qZA(),e.TgZ(10,"div",3)(11,"nz-select",7),e.YNc(12,Wn,1,2,"nz-option",5),e.ALo(13,"async"),e.qZA(),e._UZ(14,"nz-input-number",8),e.qZA()(),e.TgZ(15,"button",9),e.NdJ("click",function(){return i.submitChanges()}),e._uU(16,"\u0627\u0639\u0645\u0627\u0644 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"),e.qZA()(),e.TgZ(17,"div",10)(18,"h2"),e._uU(19,"\u067e\u0648\u0634\u0634 \u0647\u0627\u06cc \u062a\u06a9\u0645\u06cc\u0644\u06cc"),e.qZA(),e.TgZ(20,"nz-checkbox-wrapper",11)(21,"div",12)(22,"div",13)(23,"label",14),e._uU(24,"\u0628\u0644\u0627\u06cc\u0627\u06cc \u0637\u0628\u06cc\u0639\u06cc"),e.qZA()(),e.TgZ(25,"div",13)(26,"label",15),e._uU(27,"\u0634\u06a9\u0633\u062a\u0646 \u0634\u06cc\u0634\u0647"),e.qZA()(),e.TgZ(28,"div",13)(29,"label",16),e._uU(30,"\u0633\u0631\u0642\u062a \u062f\u0631\u062c\u0627"),e.qZA()(),e.TgZ(31,"div",13)(32,"label",17),e._uU(33,"\u067e\u0627\u0634\u06cc\u062f\u0646 \u0631\u0646\u06af"),e.qZA()(),e.TgZ(34,"div",13)(35,"label",18),e._uU(36,"\u062d\u0645\u0644 \u0648 \u0646\u0642\u0644"),e.qZA()(),e.TgZ(37,"div",13)(38,"label",19),e._uU(39,"\u0646\u0648\u0633\u0627\u0646 \u0642\u06cc\u0645\u062a"),e.qZA()()()()(),e.TgZ(40,"div",1)(41,"h2"),e._uU(42,"\u0627\u0631\u0632\u0634 \u062e\u0648\u062f\u0631\u0648 (\u062a\u0648\u0645\u0627\u0646)"),e.qZA(),e.TgZ(43,"input",20),e.NdJ("keydown",function(a){return i.numberCheck(a)})("keyup",function(a){return i.CommaFormatted(a)}),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.vehicleForm),e.xp6(7),e.Q6J("ngForOf",e.lcZ(8,4,i.carFacade.vehicleBrands$)),e.xp6(5),e.Q6J("ngForOf",e.lcZ(13,6,i.carFacade.vehicleModels$)),e.xp6(2),e.Q6J("nzDisabled",!0))},directives:[s._Y,s.JL,s.sg,h.Vq,m.Lv,s.JJ,s.u,u.sg,h.Ip,Gn,Ce,s.x0,M.SK,M.t3,ze,U.Zp,s.Fj],pipes:[u.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-align:center;padding:2rem 0;width:90%;margin:auto;gap:8px}.container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border:2px solid #d8d8d8;padding:1rem 0;border-radius:10px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-weight:1rem}.container[_ngcontent-%COMP%]   .item-select[_ngcontent-%COMP%]{width:90%;display:grid;grid-template-columns:1fr 1fr;margin:auto}.container[_ngcontent-%COMP%]   .item-select[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:85%;margin:auto;display:block}.container[_ngcontent-%COMP%]   .item-select[_ngcontent-%COMP%]   nz-input-number[_ngcontent-%COMP%]{width:85%;text-align:center;margin-top:.5rem;font-size:.7rem}.container[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{color:#fff;padding:1.2rem 2rem;margin:auto;display:inline-block;background-color:#1d2130;margin-top:.7rem;cursor:pointer;border-radius:.7rem}.container[_ngcontent-%COMP%]   nz-checkbox-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:right;padding:0 2rem}.container[_ngcontent-%COMP%]   nz-checkbox-wrapper[_ngcontent-%COMP%]   [nz-row][_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   nz-checkbox-wrapper[_ngcontent-%COMP%]   [nz-col][_ngcontent-%COMP%]{padding:3px 0;max-width:100%}.container[_ngcontent-%COMP%]   nz-input-number[_ngcontent-%COMP%]{width:80%;margin-top:1rem;padding:.5rem 1rem;font-family:inherit;font-size:1.1rem}"]}),n})();function Kn(n,o){1&n&&(e.TgZ(0,"li",5)(1,"div"),e._UZ(2,"app-icon",6),e._uU(3," \u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a \u0622\u0646\u0644\u0627\u06cc\u0646 "),e.qZA()())}let ei=(()=>{class n{constructor(){this.price=0,this.props=[],this.inquiryId="",this.onPurchase=new e.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-comparison-item"]],inputs:{price:"price",company:"company",props:"props",inquiryId:"inquiryId"},outputs:{onPurchase:"onPurchase"},decls:35,vars:9,consts:[[1,"collapsible"],[1,"icon-container"],["src","call",3,"size"],[1,"header__title--container"],[1,"company-point"],[1,"company-point__item"],["src","check"],["class","company-point__item",4,"ngIf"],[1,"zemanat"],["appButton","",1,"submitBtn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"article",0)(1,"header")(2,"div",1),e._UZ(3,"app-icon",2),e.qZA(),e.TgZ(4,"div",3)(5,"h5"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()()(),e.TgZ(10,"main")(11,"ul",4)(12,"li",5)(13,"div"),e._UZ(14,"app-icon",6),e._uU(15," \u0634\u0639\u0628 \u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a "),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.qZA()(),e.TgZ(18,"li",5)(19,"div"),e._UZ(20,"app-icon",6),e._uU(21," \u0631\u0636\u0627\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 "),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.qZA()(),e.TgZ(24,"li",5)(25,"div"),e._UZ(26,"app-icon",6),e._uU(27," \u062a\u0648\u0627\u0646\u06af\u0631\u06cc \u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647 "),e.qZA(),e.TgZ(28,"p"),e._uU(29),e.qZA()(),e.YNc(30,Kn,4,0,"li",7),e.qZA(),e.TgZ(31,"p",8),e._uU(32," \u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a \u0633\u0631\u06cc\u0639 \u062f\u0631 \u0627\u06cc\u0646 \u0637\u0631\u062d \u062a\u0648\u0633\u0637 \u06a9\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u0645\u0627 \u062a\u0636\u0645\u06cc\u0646 \u0634\u062f\u0647 \u0627\u0633\u062a "),e.qZA(),e.TgZ(33,"button",9),e.NdJ("click",function(){return i.onPurchase.emit(i.inquiryId)}),e._uU(34," \u0633\u0641\u0627\u0631\u0634 "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("size",0),e.xp6(3),e.hij("",e.lcZ(7,7,i.price)," \u062a\u0648\u0645\u0627\u0646"),e.xp6(3),e.Oqu(i.company.company_persian_name),e.xp6(8),e.hij("",i.company.branchs_count," \u0634\u0639\u0628\u0647"),e.xp6(6),e.hij("",i.company.users_score," \u0627\u0632 5"),e.xp6(6),e.hij("",i.company.payment_capability," \u0627\u0632 5"),e.xp6(1),e.Q6J("ngIf",i.company.online_claim_payment))},directives:[j.o,u.O5,B.H],pipes:[u.JJ],styles:["article[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:center;border-radius:1rem}article[_ngcontent-%COMP%]   .company-point[_ngcontent-%COMP%]{padding:unset;list-style:none;display:flex;flex-direction:column;gap:1rem;align-self:flex-start;margin:1rem 0 2rem;align-items:flex-start}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{gap:.8rem;display:flex}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-right:2rem;text-align:right;padding:2px;opacity:.7}article[_ngcontent-%COMP%]   .company-point__item[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{background:#d5f5ea;fill:#000;border-radius:50%;width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center}article[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;padding:1rem;width:100%;border-bottom:1px solid #d8d8d8;align-items:center}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{grid-row:1/3;color:red}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]     svg{fill:#000}.header__title--container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header__title--container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:unset}.header__title--container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset;color:#1d2130;font-size:.8rem}.collapsible[_ngcontent-%COMP%]{transition:all .2s ease;padding-bottom:2rem;border:4px solid white}.collapsible[_ngcontent-%COMP%]:hover{background:linear-gradient(175.67deg,#d7e7f9 13.12%,#d5f4ec 96.48%);border:4px solid #6b7cff}.collapsible[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]{max-height:max-content}.content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .2s ease}.submitBtn[_ngcontent-%COMP%]{min-width:7rem;transition:all .3s ease-in-out}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#e6e6e6;padding:.5rem;width:2.5rem;height:2.5rem;border-radius:50%;grid-row:1/3}.zemanat[_ngcontent-%COMP%]{text-align:center;width:80%;color:#1d2130;font-size:.8rem}.discount[_ngcontent-%COMP%]{transition:all .3s ease-in-out;display:flex;flex-direction:column;align-items:center;font-size:.75rem}.discount[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}"]}),n})();function ti(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-comparison-item",4),e.NdJ("onPurchase",function(r){return e.CHM(t),e.oxw(2).purchase(r)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("company",t.company)("price",t.price)("inquiryId",t.id)}}function ni(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ti,1,3,"app-comparison-item",3),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.company)}}function ii(n,o){1&n&&(e.TgZ(0,"div",5),e._UZ(1,"nz-spin",6),e.qZA()),2&n&&(e.xp6(1),e.Q6J("nzSize","large"))}const ai=[{path:"",component:Ht},{path:"compare",component:(()=>{class n{constructor(t,i,r){this.route=t,this.carFacade=i,this.authFacade=r,this.props=["\u0634\u0639\u0628 \u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a","\u0631\u0636\u0627\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646","\u062a\u0648\u0627\u0646\u06af\u0631\u06cc \u0634\u0631\u06a9\u062a \u0628\u06cc\u0645\u0647","\u067e\u0631\u062f\u0627\u062e\u062a \u062e\u0633\u0627\u0631\u062a \u0622\u0646\u0644\u0627\u06cc\u0646"],this.loading=!0}ngOnInit(){this.carFacade.loadVehicles(),this.carFacade.inquiryPrice(),this.carFacade.loadLookups(),this.updateStoreWithParams(),this.carFacade.setFlow(R.z.CAR_COMPARE_INSURANCES)}purchase(t){var i=this;return Q(function*(){const r=yield(0,G.z)(i.authFacade.isUserLogin$);i.carFacade.selectInsurance(t,!!r)})()}updateStoreWithParams(){const t=JSON.parse(this.route.snapshot.queryParams.vehicle);this.carFacade.updateCustomerVehicle(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.gz),e.Y36(_.j),e.Y36(le.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-compare"]],decls:6,vars:6,consts:[[1,"comparison-cards"],[4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[3,"company","price","inquiryId","onPurchase",4,"ngIf"],[3,"company","price","inquiryId","onPurchase"],[1,"loading"],["nzSimple","",3,"nzSize"]],template:function(t,i){1&t&&(e._UZ(0,"app-compare-head"),e.TgZ(1,"section",0),e.YNc(2,ni,2,1,"ng-container",1),e.ALo(3,"async"),e.qZA(),e.YNc(4,ii,2,1,"div",2),e.ALo(5,"async")),2&t&&(e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,i.carFacade.compareItems$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,4,i.carFacade.loading$)))},directives:[Xn,u.sg,u.O5,ei,he],pipes:[u.Ov],styles:[".comparison-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:2rem;gap:2rem;width:90%;margin:2rem auto}.loading[_ngcontent-%COMP%]{background-color:#fff7;position:fixed;top:0;left:0;width:100%;height:100vh;display:flex;align-items:center;justify-content:center}"]}),n})()},{path:"final-steps",component:jn,canActivate:[ut.a,(()=>{class n{constructor(t,i){this.carFacade=t,this.router=i}canActivate(t,i){var r=this;return Q(function*(){const c=(yield(0,G.z)(r.carFacade.flowStep$))>=R.z.CAR_COMPARE_INSURANCES+1;return c||r.router.navigateByUrl("/quote/car"),c})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_.j),e.LFG(Z.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}];let si=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(ai)],Z.Bz]}),n})();var li=l(925);let Ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.vT,u.ez,F.PV,k.T]]}),n})();var Si=l(6695),Mi=l(4170);let So=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.vT,u.ez,s.u5,li.ud,Si.cg,Ni,Mi.YI,F.PV,T.sL]]}),n})(),Io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.vT,u.ez,N.vG,F.PV,k.T]]}),n})(),jo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,k.T],m.vT]}),n})(),Qo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,si,be.Aw.forFeature(ct.M),f.sQ.forFeature([lt]),H.JF,Te.m,s.u5,st,h.LV,s.UX,U.o7,v.U5,T.sL,So,F.PV,Tn,ve,Io,m.vT,Yn,s.u5,ve,jo]]}),n})()}}]);